import{j as e,g as i,r as a}from"./index-DQuqH0wi.js";import{V as p}from"./VerifyLogin-BskIRuRc.js";import{H as h,P as g,F as x}from"./PageContent-DUT0uz_M.js";const u=()=>e.jsx("div",{children:"DashboardPageContent"}),b=async t=>{const o=new FormData;o.append("file",t),fetch(`${i}api/v1/files/upload`,{method:"PUT",body:o})},j=async t=>{const o=await fetch(`${i}api/v1/files/${encodeURIComponent(t)}`,{method:"GET"});if(!o.ok)throw new Error(`Failed to fetch file: ${o.statusText}`);return o.blob()},P=()=>{const[t,o]=a.useState(null),[r,d]=a.useState(null);document.title="Dashboard";const m=s=>{o(s.target.files[0])};return a.useEffect(()=>{const s=async()=>{try{const n=await b(t),f=t.name,l=await j(f);console.log(l);const c=URL.createObjectURL(l);d(c),console.log("Image URL:",c)}catch(n){console.error("Upload or fetch failed:",n)}};t!=null&&s()},[t]),e.jsx(p,{children:e.jsxs("div",{className:"bg-gradient-to-b from-dark-teal from-20% to-mid-teal bg-fixed min-h-screen top-0 flex flex-col",children:[e.jsxs("div",{className:"pt-[5rem] lg:pt-[8rem] f-1",children:[e.jsx(h,{}),e.jsxs(g,{children:[e.jsx(u,{}),e.jsx("input",{type:"file",onChange:m}),e.jsx("button",{type:"submit",children:"Upload"}),r&&e.jsx("img",{src:r,className:"w-[150px]",alt:"Uploaded Preview"})]})]}),e.jsx(x,{})]})})};export{P as default};
