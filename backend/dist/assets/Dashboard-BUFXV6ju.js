import{j as e,g as i,r as n}from"./index-pUIIou8n.js";import{V as f}from"./VerifyLogin-DpaCvXtN.js";import{H as m,P as p,F as u}from"./PageContent-cGXC41vh.js";const h=()=>e.jsx("div",{children:"DashboardPageContent"}),g=async s=>{const a=new FormData;a.append("file",s);const t=await fetch(`${i}api/v1/files/upload`,{method:"PUT",body:a}),r=await t.json();return{status:t.status,data:r}},x=async s=>{const a=`${i}api/v1/files/${encodeURIComponent(s)}`;console.log(a);const t=await fetch(a,{method:"GET"});if(console.log(t),!t.ok)throw new Error(`Failed to fetch file: ${t.statusText}`);return t.blob()},U=()=>{const[s,a]=n.useState(null),[t,r]=n.useState(null);document.title="Dashboard";const c=o=>{a(o.target.files[0])};return n.useEffect(()=>{const o=async()=>{try{if((await g(s)).status==200){console.log("yes...");const d=s.name,j=await x(d)}}catch(l){console.error("Upload or fetch failed:",l)}};s!=null&&o()},[s]),e.jsx(f,{children:e.jsxs("div",{className:"bg-gradient-to-b from-dark-teal from-20% to-mid-teal bg-fixed min-h-screen top-0 flex flex-col",children:[e.jsxs("div",{className:"pt-[5rem] lg:pt-[8rem] f-1",children:[e.jsx(m,{}),e.jsxs(p,{children:[e.jsx(h,{}),e.jsx("input",{type:"file",onChange:c}),e.jsx("button",{type:"submit",children:"Upload"}),t&&e.jsx("img",{src:t,className:"w-[150px]",alt:"Uploaded Preview"})]})]}),e.jsx(u,{})]})})};export{U as default};
