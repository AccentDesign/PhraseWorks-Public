import{j as e,g as d,r}from"./index-DSklSfa_.js";import{V as p}from"./VerifyLogin-Bbtipr7M.js";import{H as u,P as h,F as g}from"./PageContent-Cvd7Si1c.js";const x=()=>e.jsx("div",{children:"DashboardPageContent"}),j=async s=>{const o=new FormData;o.append("file",s);const t=await fetch(`${d}api/v1/files/upload`,{method:"PUT",body:o}),a=await t.json();return{status:t.status,data:a}},b=async s=>{const o=`${d}api/v1/files/${encodeURIComponent(s)}`;console.log(o);const t=await fetch(o,{method:"GET"});if(console.log(t),!t.ok)throw new Error(`Failed to fetch file: ${t.statusText}`);return t.blob()},P=()=>{const[s,o]=r.useState(null),[t,a]=r.useState(null);document.title="Dashboard";const f=n=>{o(n.target.files[0])};return r.useEffect(()=>{const n=async()=>{try{if((await j(s)).status==200){const m=s.name,c=await b(m);console.log(c);const i=URL.createObjectURL(c);a(i),console.log("Image URL:",i)}}catch(l){console.error("Upload or fetch failed:",l)}};s!=null&&n()},[s]),e.jsx(p,{children:e.jsxs("div",{className:"bg-gradient-to-b from-dark-teal from-20% to-mid-teal bg-fixed min-h-screen top-0 flex flex-col",children:[e.jsxs("div",{className:"pt-[5rem] lg:pt-[8rem] f-1",children:[e.jsx(u,{}),e.jsxs(h,{children:[e.jsx(x,{}),e.jsx("input",{type:"file",onChange:f}),e.jsx("button",{type:"submit",children:"Upload"}),t&&e.jsx("img",{src:t,className:"w-[150px]",alt:"Uploaded Preview"})]})]}),e.jsx(g,{})]})})};export{P as default};
