import{j as e,r as s,A as N,h as V,n as y,i as B,k as H,l as I}from"./index-jfVTkSr8.js";import{V as z,H as L,P as Z,F as _}from"./PageContent-C8XW3_vI.js";import{z as w,L as b,F as A}from"./XMarkIcon-yQ5H14_d.js";import"./index-DBMsOViK.js";const M=({setAddCategorySliderOpen:r})=>e.jsx("div",{className:"relative overflow-hidden bg-white shadow-md dark:bg-gray-800 sm:rounded-lg",children:e.jsxs("div",{className:"flex-row items-center justify-between p-4 space-y-3 sm:flex sm:space-y-0 sm:space-x-4",children:[e.jsx("div",{children:e.jsx("h2",{className:"text-3xl",children:"Categories"})}),e.jsxs("button",{type:"button",className:"flex items-center justify-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-primary-300 dark:bg-primary-600 dark:hover:bg-primary-700 focus:outline-none dark:focus:ring-primary-800",onClick:()=>r(!0),children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 mr-2 -ml-1",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M12 3.75a.75.75 0 0 1 .75.75v6.75h6.75a.75.75 0 0 1 0 1.5h-6.75v6.75a.75.75 0 0 1-1.5 0v-6.75H4.5a.75.75 0 0 1 0-1.5h6.75V4.5a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"})}),"Add New Category"]})]})}),q=({addCategorySliderOpen:r,setAddCategorySliderOpen:n,HandleClose:x,setReloadCategories:t})=>{const{loginPassword:h}=s.useContext(N),[o,g]=s.useState(""),[a,d]=s.useState(""),[c,u]=s.useState(""),p=async()=>{const l=await V(h,o,a,c);if(l.status==200&&l.data.createPostCategory.success==!0){t(!0),n(!1),y("Successfully created category.","success");return}y("Failed to create category.","error")};return s.useEffect(()=>{const l=o.toLowerCase().replace(/[^a-z0-9\s-]/g,"").trim().replace(/\s+/g,"-").replace(/-+/g,"-");d(l)},[o]),e.jsx(w.Root,{show:r,as:s.Fragment,children:e.jsxs(b,{as:"div",className:"relative z-30",onClose:x,children:[e.jsx("div",{className:"fixed inset-0"}),e.jsx("div",{className:"fixed inset-0 overflow-hidden",children:e.jsx("div",{className:"absolute inset-0 overflow-hidden",children:e.jsx("div",{className:"pointer-events-none fixed inset-y-0 right-0 flex max-w-full pl-10 sm:pl-16",children:e.jsx(w.Child,{as:s.Fragment,enter:"transform transition ease-in-out duration-500 sm:duration-700",enterFrom:"translate-x-full",enterTo:"translate-x-0",leave:"transform transition ease-in-out duration-500 sm:duration-700",leaveFrom:"translate-x-0",leaveTo:"translate-x-full",children:e.jsx(b.Panel,{className:"pointer-events-auto w-screen max-w-7xl",children:e.jsx("div",{className:"bg-white flex h-full flex-col overflow-y-scroll  py-6 shadow-2xl",children:e.jsx("div",{className:"px-4 sm:px-6",children:e.jsx("div",{className:"relative mt-6 flex-1 px-4 sm:px-6",children:e.jsx("div",{className:"flex items-start justify-start",children:e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex items-start justify-between w-full pt-3",children:[e.jsx(b.Title,{className:"text-gray-900 text-base font-semibold leading-6",children:"Add Category"}),e.jsx("div",{className:"ml-3 flex h-7 items-center",children:e.jsxs("button",{type:"button",className:"bg-white relative rounded-md text-gray-400 hover:text-gray-500",onClick:()=>{n(!1)},children:[e.jsx("span",{className:"absolute -inset-2.5"}),e.jsx("span",{className:"sr-only",children:"Close panel"}),e.jsx(A,{className:"h-6 w-6","aria-hidden":"true"})]})})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{children:"Name"}),e.jsx("input",{type:"text",name:"name",placeholder:"Name",autoComplete:"Name",value:o,className:"bg-gray-50 border border-gray-300 text-gray-900 rounded-lg focus:ring-blue-600 focus:border-blue-600 block w-full p-2.5",required:!0,onChange:l=>{g(l.target.value)}})]}),e.jsxs("div",{className:"w-full mt-4",children:[e.jsx("label",{children:"Slug"}),e.jsx("input",{type:"text",name:"slug",placeholder:"Slug",autoComplete:"Slug",value:a,className:"bg-gray-50 border border-gray-300 text-gray-900 rounded-lg focus:ring-blue-600 focus:border-blue-600 block w-full p-2.5",required:!0,onChange:l=>{d(l.target.value)}})]}),e.jsxs("div",{className:"w-full mt-4",children:[e.jsx("label",{children:"Description"}),e.jsx("textarea",{value:c,onChange:l=>u(l.target.value),className:"w-full h-64 p-2 bg-gray-50  border border-gray-300 rounded font-mono text-sm",placeholder:"Enter description here..."})]}),e.jsx("div",{className:"flex flex-row justify-end",children:e.jsxs("button",{type:"button",className:"flex items-center justify-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-primary-300 dark:bg-primary-600 dark:hover:bg-primary-700 focus:outline-none dark:focus:ring-primary-800",onClick:p,children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 mr-2",children:e.jsx("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25ZM12.75 9a.75.75 0 0 0-1.5 0v2.25H9a.75.75 0 0 0 0 1.5h2.25V15a.75.75 0 0 0 1.5 0v-2.25H15a.75.75 0 0 0 0-1.5h-2.25V9Z",clipRule:"evenodd"})}),"Add Category"]})})]})})})})})})})})})})]})})},U=({editCategorySliderOpen:r,setEditCategorySliderOpen:n,HandleClose:x,categoryToEdit:t,setCategoryToEdit:h,setReloadCategories:o})=>{const{loginPassword:g}=s.useContext(N),[a,d]=s.useState(""),[c,u]=s.useState(""),[p,l]=s.useState(""),j=async()=>{const i=await B(g,a,c,p,t.term_id);if(i.status==200&&i.data.updatePostCategory.success==!0){o(!0),n(!1),h(null),y("Successfully updated category.","success");return}};return s.useEffect(()=>{t&&(d(t==null?void 0:t.name),u(t==null?void 0:t.slug),l(t==null?void 0:t.description))},[t]),s.useEffect(()=>{const i=a.toLowerCase().replace(/[^a-z0-9\s-]/g,"").trim().replace(/\s+/g,"-").replace(/-+/g,"-");u(i)},[a]),e.jsx(w.Root,{show:r,as:s.Fragment,children:e.jsxs(b,{as:"div",className:"relative z-30",onClose:x,children:[e.jsx("div",{className:"fixed inset-0"}),e.jsx("div",{className:"fixed inset-0 overflow-hidden",children:e.jsx("div",{className:"absolute inset-0 overflow-hidden",children:e.jsx("div",{className:"pointer-events-none fixed inset-y-0 right-0 flex max-w-full pl-10 sm:pl-16",children:e.jsx(w.Child,{as:s.Fragment,enter:"transform transition ease-in-out duration-500 sm:duration-700",enterFrom:"translate-x-full",enterTo:"translate-x-0",leave:"transform transition ease-in-out duration-500 sm:duration-700",leaveFrom:"translate-x-0",leaveTo:"translate-x-full",children:e.jsx(b.Panel,{className:"pointer-events-auto w-screen max-w-7xl",children:e.jsx("div",{className:"bg-white flex h-full flex-col overflow-y-scroll  py-6 shadow-2xl",children:e.jsx("div",{className:"px-4 sm:px-6",children:e.jsx("div",{className:"relative mt-6 flex-1 px-4 sm:px-6",children:e.jsx("div",{className:"flex items-start justify-start",children:e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex items-start justify-between w-full pt-3",children:[e.jsx(b.Title,{className:"text-gray-900 text-base font-semibold leading-6",children:"Edit Category"}),e.jsx("div",{className:"ml-3 flex h-7 items-center",children:e.jsxs("button",{type:"button",className:"bg-white relative rounded-md text-gray-400 hover:text-gray-500",onClick:()=>{n(!1)},children:[e.jsx("span",{className:"absolute -inset-2.5"}),e.jsx("span",{className:"sr-only",children:"Close panel"}),e.jsx(A,{className:"h-6 w-6","aria-hidden":"true"})]})})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{children:"Name"}),e.jsx("input",{type:"text",name:"name",placeholder:"Name",autoComplete:"Name",value:a,className:"bg-gray-50 border border-gray-300 text-gray-900 rounded-lg focus:ring-blue-600 focus:border-blue-600 block w-full p-2.5",required:!0,onChange:i=>{d(i.target.value)}})]}),e.jsxs("div",{className:"w-full mt-4",children:[e.jsx("label",{children:"Slug"}),e.jsx("input",{type:"text",name:"slug",placeholder:"Slug",autoComplete:"Slug",value:c,className:"bg-gray-50 border border-gray-300 text-gray-900 rounded-lg focus:ring-blue-600 focus:border-blue-600 block w-full p-2.5",required:!0,onChange:i=>{u(i.target.value)}})]}),e.jsxs("div",{className:"w-full mt-4",children:[e.jsx("label",{children:"Description"}),e.jsx("textarea",{value:p,onChange:i=>l(i.target.value),className:"w-full h-64 p-2 bg-gray-50  border border-gray-300 rounded font-mono text-sm",placeholder:"Enter description here..."})]}),e.jsx("div",{className:"flex flex-row justify-end",children:e.jsxs("button",{type:"button",className:"flex items-center justify-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-primary-300 dark:bg-primary-600 dark:hover:bg-primary-700 focus:outline-none dark:focus:ring-primary-800",onClick:j,children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 mr-2",children:e.jsx("path",{fillRule:"evenodd",d:"M4.755 10.059a7.5 7.5 0 0 1 12.548-3.364l1.903 1.903h-3.183a.75.75 0 1 0 0 1.5h4.992a.75.75 0 0 0 .75-.75V4.356a.75.75 0 0 0-1.5 0v3.18l-1.9-1.9A9 9 0 0 0 3.306 9.67a.75.75 0 1 0 1.45.388Zm15.408 3.352a.75.75 0 0 0-.919.53 7.5 7.5 0 0 1-12.548 3.364l-1.902-1.903h3.183a.75.75 0 0 0 0-1.5H2.984a.75.75 0 0 0-.75.75v4.992a.75.75 0 0 0 1.5 0v-3.18l1.9 1.9a9 9 0 0 0 15.059-4.035.75.75 0 0 0-.53-.918Z",clipRule:"evenodd"})}),"Update"]})})]})})})})})})})})})})]})})},O=({categories:r,selectedIds:n,toggleCheckbox:x,allSelected:t,toggleAllCheckboxes:h,setCategoryToEdit:o,setEditCategorySliderOpen:g})=>e.jsxs("table",{className:"w-full text-sm text-left rtl:text-right text-gray-500",children:[e.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-200  ",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3",children:e.jsx("input",{type:"checkbox",checked:t,onChange:h,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded-sm focus:ring-blue-500 focus:ring-2"})}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Name"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Description"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Slug"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Count"})]})}),e.jsx("tbody",{children:r.map((a,d)=>e.jsxs("tr",{className:"odd:bg-white odd:dark:bg-gray-900 even:bg-gray-50 even:dark:bg-gray-800 border-b dark:border-gray-700 border-gray-200",children:[e.jsx("th",{scope:"row",className:"px-6 py-4 w-[40px] font-medium text-gray-900 whitespace-nowrap dark:text-white",children:e.jsx("input",{id:"default-checkbox",type:"checkbox",value:a.term_id,checked:n.includes(a.term_id),onChange:()=>x(a.term_id),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded-sm focus:ring-blue-500 focus:ring-2"})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("button",{type:"button",className:"text-blue-800 hover:text-blue-500",onClick:()=>{o(a),g(!0)},children:a.name})}),e.jsx("td",{className:"px-6 py-4",children:a.description}),e.jsx("td",{className:"px-6 py-4",children:a.slug}),e.jsx("td",{className:"px-6 py-4",children:a.post_count})]},d))})]}),G=({bulkAction:r,setBulkAction:n,handleApply:x})=>e.jsxs("div",{className:"flex flex-row items-center my-4",children:[e.jsxs("select",{id:"actionsDropdown",className:"bg-gray-100 border-gray-300 border px-4 py-2 divide-y divide-gray-100 rounded shadow w-44 dark:bg-gray-700 dark:divide-gray-600",value:r,onChange:t=>n(t.target.value),children:[e.jsx("option",{value:"",children:"Bulk Actions"}),e.jsx("option",{value:"delete",children:"Delete Permanently"})]}),e.jsxs("button",{type:"button",className:"ml-4 flex items-center justify-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-primary-300 dark:bg-primary-600 dark:hover:bg-primary-700 focus:outline-none dark:focus:ring-primary-800",onClick:x,children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 mr-2 -ml-1",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M19.916 4.626a.75.75 0 0 1 .208 1.04l-9 13.5a.75.75 0 0 1-1.154.114l-6-6a.75.75 0 0 1 1.06-1.06l5.353 5.353 8.493-12.74a.75.75 0 0 1 1.04-.207Z",clipRule:"evenodd"})}),"Apply"]})]}),$=()=>{const{loginPassword:r}=s.useContext(N),[n,x]=s.useState([]),[t,h]=s.useState(!1),[o,g]=s.useState(!1),[a,d]=s.useState(null),[c,u]=s.useState([]),[p,l]=s.useState(!1),[j,i]=s.useState(""),C=()=>{},R=m=>{u(f=>f.includes(m)?f.filter(v=>v!==m):[...f,m])},F=()=>{c.length===n.length?u([]):u(n.map(m=>m.term_id))},D=async()=>{j==="delete"&&c.length>0&&(await Promise.all(c.map(async f=>{var S,P;const v=await I(r,f);return v.status===200&&((P=(S=v.data)==null?void 0:S.deletePostCategory)==null?void 0:P.success)}))).some(f=>f)&&(y("Successfully deleted categories.","success"),l(!0),u([]))},k=async()=>{const m=await H(r,"category");m.status==200&&x(m.data.getCategories.categories)};return s.useEffect(()=>{k()},[]),s.useEffect(()=>{p&&(l(!1),k())},[p]),e.jsxs("div",{className:"w-full",children:[e.jsx(M,{setAddCategorySliderOpen:h}),e.jsxs("div",{className:"relative overflow-x-auto shadow-md sm:rounded-lg w-full mt-8 py-4 px-4",children:[e.jsx(G,{bulkAction:j,setBulkAction:i,handleApply:D}),e.jsx(O,{categories:n,selectedIds:c,toggleCheckbox:R,toggleAllCheckboxes:F,setCategoryToEdit:d,setEditCategorySliderOpen:g})]}),e.jsx(q,{addCategorySliderOpen:t,setAddCategorySliderOpen:h,HandleClose:C,setReloadCategories:l}),e.jsx(U,{editCategorySliderOpen:o,setEditCategorySliderOpen:g,HandleClose:C,categoryToEdit:a,setCategoryToEdit:d,setReloadCategories:l})]})},X=({siteTitle:r})=>(document.title=`Page Categories - ${r}`,e.jsxs(z,{children:[e.jsx(L,{}),e.jsx(Z,{children:e.jsx($,{})}),e.jsx(_,{})]}));export{X as default};
