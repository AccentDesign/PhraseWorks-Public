import{j as e,r as t}from"./vendor-react.js";import{L as s,a}from"./vendor-other.js";import{u as l,A as n,U as i,h as r,w as o,x as d,t as c,y as u,aj as m,z as x,B as p,a3 as h,n as g,a4 as v,H as f,a5 as j,a6 as b,a7 as y,a8 as w,a9 as N,ak as S,Z as C,q as k,r as T,C as P,I as M,s as I,al as E,E as F,F as _,D as R,G as D,J as O,L as V,K as A,M as Z,N as B,O as H,P as $,Q as L,R as U,S as q,T as z}from"./index.js";import{z as J,L as W}from"./vendor-headless-ui.js";import{P as G,a as Y,b as K,S as Q,C as X}from"./admin-core.js";import{E as ee}from"./vendor-tinymce.js";import{T as te,a as se,R as ae,I as le,F as ne,W as ie,L as re,P as oe,b as de,c as ce}from"./admin-components-customfields.js";const ue=()=>e.jsx("div",{className:"title-panel",children:e.jsxs("div",{className:"title-bar",children:[e.jsx("div",{children:e.jsx("h2",{className:"text-3xl",children:"Posts"})}),e.jsxs(s,{to:"/admin/posts/new",className:"text-white bg-blue-700 hover:bg-blue-800 btn",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 mr-2 -ml-1",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M12 3.75a.75.75 0 0 1 .75.75v6.75h6.75a.75.75 0 0 1 0 1.5h-6.75v6.75a.75.75 0 0 1-1.5 0v-6.75H4.5a.75.75 0 0 1 0-1.5h6.75V4.5a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"})}),"Add New Post"]})]})}),me=({setFilter:t,totalPosts:s,filter:a,posts:l,user:n})=>e.jsxs("div",{className:"filter-panel",children:[e.jsxs("button",{type:"button",onClick:()=>t("all"),className:"text-sm "+("all"==a?"text-black font-bold":"text-blue-800"),children:["All ",e.jsxs("span",{className:"font-normal",children:["(",s,")"]})]}),e.jsxs("button",{type:"button",onClick:()=>t("mine"),className:"text-sm "+("mine"==a?"text-black font-bold":"text-blue-800"),children:["Mine"," ",e.jsxs("span",{className:"font-normal",children:["(",l.filter(e=>e.post_author==n.id).length,")"]})]}),e.jsxs("button",{type:"button",onClick:()=>t("draft"),className:"text-sm "+("draft"==a?"text-black font-bold":"text-blue-800"),children:["Drafts"," ",e.jsxs("span",{className:"font-normal",children:["(",l.filter(e=>"draft"==e.post_status).length,")"]})]}),e.jsxs("button",{type:"button",onClick:()=>t("scheduled"),className:"text-sm "+("scheduled"==a?"text-black font-bold":"text-blue-800"),children:["Scheduled"," ",e.jsxs("span",{className:"font-normal",children:["(",l.filter(e=>"scheduled"==e.post_status).length,")"]})]}),l.filter(e=>"trash"==e.post_status).length>0&&e.jsxs("button",{type:"button",onClick:()=>t("trash"),className:"text-sm "+("trash"==a?"text-black font-bold":"text-red-800"),children:["Trash"," ",e.jsxs("span",{className:"font-normal",children:["(",l.filter(e=>"trash"==e.post_status).length,")"]})]})]}),xe=({bulkAction:t,setBulkAction:s,handleApply:a,filter:l})=>e.jsxs("div",{className:"actions-panel",children:[e.jsxs("select",{id:"actionsDropdown",className:"select",value:t,onChange:e=>s(e.target.value),children:[e.jsx("option",{value:"",children:"Bulk Actions"}),"trash"!=l?e.jsx("option",{value:"trash",children:"Trash Items"}):e.jsxs(e.Fragment,{children:[e.jsx("option",{value:"delete",children:"Delete Permanently"}),e.jsx("option",{value:"restore",children:"Restore"})]})]}),e.jsxs("button",{type:"button",className:"ml-4 text-white bg-blue-700 hover:bg-blue-800 btn",onClick:a,children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 mr-2 -ml-1",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M19.916 4.626a.75.75 0 0 1 .208 1.04l-9 13.5a.75.75 0 0 1-1.154.114l-6-6a.75.75 0 0 1 1.06-1.06l5.353 5.353 8.493-12.74a.75.75 0 0 1 1.04-.207Z",clipRule:"evenodd"})}),"Apply"]})]}),pe=({postId:s,fieldName:a})=>{const[n,i]=t.useState(null);return t.useEffect(()=>{(async()=>{var e,t;const n=await l(s);if(200==n.status&&null!=n.data){const s=JSON.parse(null==(e=null==n?void 0:n.data)?void 0:e.getFields);i(null==(t=s.find(e=>e.name==a))?void 0:t.value)}})()},[s,a]),e.jsx("td",{children:n??"-"})},he=({posts:a,selectedIds:l,toggleCheckbox:n,restorePost:i,binPost:r,publishPost:o,draftPost:d,permanentDelete:c,allSelected:u,toggleAllCheckboxes:m,postTableFields:x})=>{const p=window.__FIELD_RENDERERS__||{};return e.jsxs("table",{className:"table table-striped",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",children:e.jsx("input",{type:"checkbox",checked:u,onChange:m,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded-sm focus:ring-blue-500 focus:ring-2"})}),null==x?void 0:x.slice().sort((e,t)=>e.order-t.order).slice(1).map((t,s)=>e.jsx("th",{scope:"col",children:t.title},s))]})}),e.jsx("tbody",{children:a.map((a,u)=>e.jsxs("tr",{children:[e.jsx("td",{scope:"row",className:"table-checkbox-cell",children:e.jsx("input",{id:"default-checkbox",type:"checkbox",value:a.id,checked:l.includes(a.id),onChange:()=>n(a.id),className:"checkbox"})}),null==x?void 0:x.slice().sort((e,t)=>e.order-t.order).slice(1).map((l,n)=>e.jsxs(t.Fragment,{children:["title"==l.name&&e.jsxs("td",{className:"flex flex-col",children:[e.jsx("div",{className:"flex flex-row items-center",children:e.jsxs(s,{to:`/admin/posts/edit/${a.id}`,className:"text-blue-700 font-bold",children:[a.post_title," -"," ",e.jsx("span",{className:"text-gray-800",children:a.post_status})]})}),e.jsxs("div",{className:"flex flex-row items-center gap-4",children:["publish"==a.post_status&&e.jsx("p",{children:e.jsx(s,{to:`/${a.post_name}`,className:"link-blue-xs",children:"View"})}),"trash"==a.post_status?e.jsxs(e.Fragment,{children:[e.jsx("p",{children:e.jsx("button",{className:"link-blue-xs",onClick:()=>i(a.id),children:"Restore"})}),e.jsx("p",{children:e.jsx("button",{className:"link-red-xs",onClick:()=>c(a.id),children:"Permanently Delete"})})]}):e.jsxs(e.Fragment,{children:["publish"!=a.post_status&&e.jsx("p",{children:e.jsx("button",{className:"link-blue-xs",onClick:()=>{o(a.id)},children:"Publish"})}),"draft"!=a.post_status&&e.jsx("p",{children:e.jsx("button",{className:"link-blue-xs",onClick:()=>{d(a.id)},children:"Draft"})}),e.jsx("p",{children:e.jsx("button",{className:"link-red-xs",onClick:()=>{r(a.id)},children:"Bin"})})]})]})]}),"author"==l.name&&e.jsx("td",{children:a.author.user_login}),"categories"==l.name&&e.jsx("td",{children:"-"}),"tags"==l.name&&e.jsx("td",{children:"-"}),"date"===l.name&&e.jsx("td",{children:a.post_date?(()=>{const e=new Date(a.post_date),t=e=>e.toString().padStart(2,"0");return`${t(e.getDate())}/${t(e.getMonth()+1)}/${e.getFullYear()} ${t(e.getHours())}:${t(e.getMinutes())}`})():""}),p[l.name]&&p[l.name](a),!["title","author","categories","tags","date"].includes(l.name)&&!p[l.name]&&e.jsx(pe,{postId:a.id,fieldName:l.name})]},n))]},u))})]})},ge=({totalPosts:t,page:s,perPage:a,setPage:l})=>e.jsxs("div",{className:"pagination-block",children:[e.jsxs("p",{className:"mr-4",children:[t," items"]}),e.jsxs("div",{className:"pagination-buttons",children:[e.jsx("button",{className:"pagination-btn "+(1==s?"pagination-btn-disabled":"pagination-btn-enabled"),onClick:()=>{s>=2&&(async()=>{l(1)})()},children:"«"}),e.jsx("button",{className:"pagination-btn "+(1==s?"pagination-btn-disabled":"pagination-btn-enabled"),onClick:()=>{s>=2&&(async()=>{l(s-1)})()},children:"‹"}),e.jsxs("p",{children:[s," of ",Math.ceil(t/a)]}),e.jsx("button",{className:"pagination-btn "+(s==Math.ceil(t/a)?"pagination-btn-disabled":"pagination-btn-enabled"),onClick:()=>{s!==Math.ceil(t/a)&&(async()=>{l(s+1)})()},children:"›"}),e.jsx("button",{className:"pagination-btn "+(s==Math.ceil(t/a)?"pagination-btn-disabled":"pagination-btn-enabled"),onClick:()=>{s!==Math.ceil(t/a)&&(async()=>{l(Math.ceil(t/a))})()},children:"»"})]})]}),ve=()=>{const{loginPassword:s}=t.useContext(n),{user:a}=t.useContext(i),[l,h]=t.useState([]),[g,v]=t.useState([]),[f,j]=t.useState(0),[b,y]=t.useState(!1),[w,N]=t.useState([]),[S,C]=t.useState("all"),[k,T]=t.useState(1),[P,M]=t.useState(20),[I,E]=t.useState(""),[F,_]=t.useState([]),R=l.length>0&&F.length===l.length,D=async()=>{var e,t,l,n,i;try{if("all"==S){const t=await r(s,k,P,"post");200==t.status&&(null==(e=t.data)?void 0:e.getPosts)&&(h(t.data.getPosts.posts||[]),j(t.data.getPosts.total||0))}else if("mine"==S){const e=await o(k,P,"post",a.id);200==e.status&&(null==(t=e.data)?void 0:t.getPostsByAuthor)&&h(e.data.getPostsByAuthor.posts||[])}else{const e=await d(s,k,P,"post",S);200==e.status&&(null==(l=e.data)?void 0:l.getPostsByStatus)&&h(e.data.getPostsByStatus.posts||[])}const m=await c(s,1,2147483647,"post");200==m.status&&(null==(n=m.data)?void 0:n.getPosts)&&v(m.data.getPosts.posts||[]);const x=await u(s,"post");200==x.status&&(null==(i=x.data)?void 0:i.getPostTableFields)?N(x.data.getPostTableFields.fields||[]):N([])}catch(x){await m(x,"PostsPageContent","fetchData",{additionalData:{filter:S,page:k,perPage:P,userId:null==a?void 0:a.id}})}};return t.useEffect(()=>{D()},[k,S]),t.useEffect(()=>{b&&(y(!1),"all"!=S?C("all"):D())},[b]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"w-full",children:[e.jsx(ue,{}),e.jsx(me,{posts:g,totalPosts:f,filter:S,setFilter:C,user:a}),e.jsx(xe,{bulkAction:I,setBulkAction:E,handleApply:async()=>{if("trash"===I&&F.length>0){(await Promise.all(F.map(async e=>{var t,a;const l=await x(s,"trash",e);return 200===l.status&&(null==(a=null==(t=l.data)?void 0:t.updatePostStatus)?void 0:a.success)}))).some(e=>e)&&(y(!0),_([]))}else if("restore"===I&&F.length>0){(await Promise.all(F.map(async e=>{var t,a;const l=await x(s,"draft",e);return 200===l.status&&(null==(a=null==(t=l.data)?void 0:t.updatePostStatus)?void 0:a.success)}))).some(e=>e)&&(y(!0),_([]))}},filter:S}),e.jsxs("div",{className:"panel mt-8",children:[e.jsx(he,{posts:l,selectedIds:F,toggleCheckbox:e=>{_(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},restorePost:async e=>{const t=await x(s,"draft",e);200==t.status&&t.data.updatePostStatus.success&&y(!0)},binPost:async e=>{const t=await x(s,"trash",e);200==t.status&&t.data.updatePostStatus.success&&y(!0)},publishPost:async e=>{const t=await x(s,"publish",e);200==t.status&&t.data.updatePostStatus.success&&y(!0)},draftPost:async e=>{const t=await x(s,"draft",e);200==t.status&&t.data.updatePostStatus.success&&y(!0)},permanentDelete:async e=>{const t=await p(s,e);200==t.status&&t.data.deletePost.success&&y(!0)},allSelected:R,toggleAllCheckboxes:()=>{F.length===l.length?_([]):_(l.map(e=>e.id))},postTableFields:w}),e.jsx(ge,{totalPosts:f,page:k,perPage:P,setPage:T})]})]})})},fe=({setAddCategorySliderOpen:t})=>e.jsx("div",{className:"title-panel",children:e.jsxs("div",{className:"title-bar",children:[e.jsx("div",{children:e.jsx("h2",{className:"text-3xl",children:"Categories"})}),e.jsxs("button",{type:"button",className:"text-white bg-blue-700 hover:bg-blue-800 btn",onClick:()=>t(!0),children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 mr-2 -ml-1",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M12 3.75a.75.75 0 0 1 .75.75v6.75h6.75a.75.75 0 0 1 0 1.5h-6.75v6.75a.75.75 0 0 1-1.5 0v-6.75H4.5a.75.75 0 0 1 0-1.5h6.75V4.5a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"})}),"Add New Category"]})]})}),je=({addCategorySliderOpen:s,setAddCategorySliderOpen:a,HandleClose:l,setReloadCategories:i})=>{const{loginPassword:r}=t.useContext(n),[o,d]=t.useState(""),[c,u]=t.useState(""),[m,x]=t.useState("");return t.useEffect(()=>{const e=o.toLowerCase().replace(/[^a-z0-9\s-]/g,"").trim().replace(/\s+/g,"-").replace(/-+/g,"-");u(e)},[o]),e.jsx(J.Root,{show:s,as:t.Fragment,children:e.jsxs(W,{as:"div",className:"slide-panel",onClose:l,children:[e.jsx("div",{className:"fixed inset-0"}),e.jsx("div",{className:"slide-panel-content-wrapper",children:e.jsx("div",{className:"slide-panel-content",children:e.jsx("div",{className:"slide-panel-content-inner",children:e.jsx(J.Child,{as:t.Fragment,enter:"transform transition ease-in-out duration-500 sm:duration-700",enterFrom:"translate-x-full",enterTo:"translate-x-0",leave:"transform transition ease-in-out duration-500 sm:duration-700",leaveFrom:"translate-x-0",leaveTo:"translate-x-full",children:e.jsx(W.Panel,{className:"slide-panel-dialog-panel",children:e.jsx("div",{className:"slide-panel-dialog-panel-inner px-4 sm:px-6",children:e.jsx("div",{className:"slide-panel-dialog-relative",children:e.jsx("div",{className:"flex-start",children:e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"slide-panel-dialog-header-wrapper",children:[e.jsx(W.Title,{className:"text-gray-900 text-base font-semibold leading-6",children:"Add Category"}),e.jsx("div",{className:"ml-3 flex h-7 items-center",children:e.jsxs("button",{type:"button",className:"relative rounded-md text-gray-400 hover:text-gray-500",onClick:()=>{a(!1)},children:[e.jsx("span",{className:"absolute -inset-2.5"}),e.jsx("span",{className:"sr-only",children:"Close panel"}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"h-6 w-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})})]})})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{children:"Name"}),e.jsx("input",{type:"text",name:"name",placeholder:"Name",autoComplete:"Name",value:o,className:"input",required:!0,onChange:e=>{d(e.target.value)}})]}),e.jsxs("div",{className:"w-full mt-4",children:[e.jsx("label",{children:"Slug"}),e.jsx("input",{type:"text",name:"slug",placeholder:"Slug",autoComplete:"Slug",value:c,className:"input",required:!0,onChange:e=>{u(e.target.value)}})]}),e.jsxs("div",{className:"w-full mt-4",children:[e.jsx("label",{children:"Description"}),e.jsx("textarea",{value:m,onChange:e=>x(e.target.value),className:"w-full h-64 p-2 bg-gray-50  border border-gray-300 rounded font-mono text-sm",placeholder:"Enter description here..."})]}),e.jsx("div",{className:"flex flex-row justify-end",children:e.jsxs("button",{type:"button",className:"text-white bg-blue-700 hover:bg-blue-800 btn",onClick:async()=>{const e=await h(r,o,c,m);if(200==e.status&&1==e.data.createPostCategory.success)return i(!0),a(!1),void g("Successfully created category.","success");g("Failed to create category.","error")},children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 mr-2",children:e.jsx("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25ZM12.75 9a.75.75 0 0 0-1.5 0v2.25H9a.75.75 0 0 0 0 1.5h2.25V15a.75.75 0 0 0 1.5 0v-2.25H15a.75.75 0 0 0 0-1.5h-2.25V9Z",clipRule:"evenodd"})}),"Add Category"]})})]})})})})})})})})})]})})},be=({editCategorySliderOpen:s,setEditCategorySliderOpen:a,HandleClose:l,categoryToEdit:i,setCategoryToEdit:r,setReloadCategories:o})=>{const{loginPassword:d}=t.useContext(n),[c,u]=t.useState(""),[m,x]=t.useState(""),[p,h]=t.useState("");return t.useEffect(()=>{i&&(u(null==i?void 0:i.name),x(null==i?void 0:i.slug),h(null==i?void 0:i.description))},[i]),t.useEffect(()=>{const e=c.toLowerCase().replace(/[^a-z0-9\s-]/g,"").trim().replace(/\s+/g,"-").replace(/-+/g,"-");x(e)},[c]),e.jsx(J.Root,{show:s,as:t.Fragment,children:e.jsxs(W,{as:"div",className:"slide-panel",onClose:l,children:[e.jsx("div",{className:"fixed inset-0"}),e.jsx("div",{className:"slide-panel-content-wrapper",children:e.jsx("div",{className:"slide-panel-content",children:e.jsx("div",{className:"slide-panel-content-inner",children:e.jsx(J.Child,{as:t.Fragment,enter:"transform transition ease-in-out duration-500 sm:duration-700",enterFrom:"translate-x-full",enterTo:"translate-x-0",leave:"transform transition ease-in-out duration-500 sm:duration-700",leaveFrom:"translate-x-0",leaveTo:"translate-x-full",children:e.jsx(W.Panel,{className:"slide-panel-dialog-panel",children:e.jsx("div",{className:"slide-panel-dialog-panel-inner px-4 sm:px-6",children:e.jsx("div",{className:"slide-panel-dialog-relative",children:e.jsx("div",{className:"flex-start",children:e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"slide-panel-dialog-header-wrapper",children:[e.jsx(W.Title,{className:"text-gray-900 text-base font-semibold leading-6",children:"Edit Category"}),e.jsx("div",{className:"ml-3 flex h-7 items-center",children:e.jsxs("button",{type:"button",className:"relative rounded-md text-gray-400 hover:text-gray-500",onClick:()=>{a(!1)},children:[e.jsx("span",{className:"absolute -inset-2.5"}),e.jsx("span",{className:"sr-only",children:"Close panel"}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"h-6 w-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})})]})})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{children:"Name"}),e.jsx("input",{type:"text",name:"name",placeholder:"Name",autoComplete:"Name",value:c,className:"input",required:!0,onChange:e=>{u(e.target.value)}})]}),e.jsxs("div",{className:"w-full mt-4",children:[e.jsx("label",{children:"Slug"}),e.jsx("input",{type:"text",name:"slug",placeholder:"Slug",autoComplete:"Slug",value:m,className:"input",required:!0,onChange:e=>{x(e.target.value)}})]}),e.jsxs("div",{className:"w-full mt-4",children:[e.jsx("label",{children:"Description"}),e.jsx("textarea",{value:p,onChange:e=>h(e.target.value),className:"w-full h-64 p-2 bg-gray-50  border border-gray-300 rounded font-mono text-sm",placeholder:"Enter description here..."})]}),e.jsx("div",{className:"flex flex-row justify-end",children:e.jsxs("button",{type:"button",className:"text-white bg-blue-700 hover:bg-blue-800 btn",onClick:async()=>{const e=await v(d,c,m,p,i.term_id);if(200==e.status&&1==e.data.updatePostCategory.success)return o(!0),a(!1),r(null),void g("Successfully updated category.","success")},children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 mr-2",children:e.jsx("path",{fillRule:"evenodd",d:"M4.755 10.059a7.5 7.5 0 0 1 12.548-3.364l1.903 1.903h-3.183a.75.75 0 1 0 0 1.5h4.992a.75.75 0 0 0 .75-.75V4.356a.75.75 0 0 0-1.5 0v3.18l-1.9-1.9A9 9 0 0 0 3.306 9.67a.75.75 0 1 0 1.45.388Zm15.408 3.352a.75.75 0 0 0-.919.53 7.5 7.5 0 0 1-12.548 3.364l-1.902-1.903h3.183a.75.75 0 0 0 0-1.5H2.984a.75.75 0 0 0-.75.75v4.992a.75.75 0 0 0 1.5 0v-3.18l1.9 1.9a9 9 0 0 0 15.059-4.035.75.75 0 0 0-.53-.918Z",clipRule:"evenodd"})}),"Update"]})})]})})})})})})})})})]})})},ye=({categories:t,selectedIds:s,toggleCheckbox:a,allSelected:l,toggleAllCheckboxes:n,setCategoryToEdit:i,setEditCategorySliderOpen:r})=>e.jsxs("table",{className:"w-full text-sm text-left rtl:text-right text-gray-500",children:[e.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-200  ",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3",children:e.jsx("input",{type:"checkbox",checked:l,onChange:n,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded-sm focus:ring-blue-500 focus:ring-2"})}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Name"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Description"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Slug"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Count"})]})}),e.jsx("tbody",{children:t.map((t,l)=>e.jsxs("tr",{className:"odd:bg-white even:bg-gray-50 border-b border-gray-200",children:[e.jsx("th",{scope:"row",className:"px-6 py-4 w-[40px] font-medium text-gray-900 whitespace-nowrap",children:e.jsx("input",{id:"default-checkbox",type:"checkbox",value:t.term_id,checked:s.includes(t.term_id),onChange:()=>a(t.term_id),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded-sm focus:ring-blue-500 focus:ring-2"})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("button",{type:"button",className:"text-blue-800 hover:text-blue-500",onClick:()=>{i(t),r(!0)},children:t.name})}),e.jsx("td",{className:"px-6 py-4",children:t.description}),e.jsx("td",{className:"px-6 py-4",children:t.slug}),e.jsx("td",{className:"px-6 py-4",children:t.post_count})]},l))})]}),we=({bulkAction:t,setBulkAction:s,handleApply:a})=>e.jsxs("div",{className:"flex flex-row items-center my-4",children:[e.jsxs("select",{id:"actionsDropdown",className:"bg-gray-100 border-gray-300 border px-4 py-2 divide-y divide-gray-100 rounded shadow w-44",value:t,onChange:e=>s(e.target.value),children:[e.jsx("option",{value:"",children:"Bulk Actions"}),e.jsx("option",{value:"delete",children:"Delete Permanently"})]}),e.jsxs("button",{type:"button",className:"ml-4 flex items-center justify-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-primary-300 focus:outline-none",onClick:a,children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 mr-2 -ml-1",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M19.916 4.626a.75.75 0 0 1 .208 1.04l-9 13.5a.75.75 0 0 1-1.154.114l-6-6a.75.75 0 0 1 1.06-1.06l5.353 5.353 8.493-12.74a.75.75 0 0 1 1.04-.207Z",clipRule:"evenodd"})}),"Apply"]})]}),Ne=()=>{const{loginPassword:s}=t.useContext(n),[a,l]=t.useState([]),[i,r]=t.useState(!1),[o,d]=t.useState(!1),[c,u]=t.useState(null),[m,x]=t.useState([]),[p,h]=t.useState(!1),[v,b]=t.useState(""),y=()=>{},w=async()=>{const e=await f(s,"category");200==e.status&&l(e.data.getCategories.categories)};return t.useEffect(()=>{w()},[]),t.useEffect(()=>{p&&(h(!1),w())},[p]),e.jsxs("div",{className:"w-full",children:[e.jsx(fe,{setAddCategorySliderOpen:r}),e.jsxs("div",{className:"panel mt-8 py-4 px-4",children:[e.jsx(we,{bulkAction:v,setBulkAction:b,handleApply:async()=>{if("delete"===v&&m.length>0){(await Promise.all(m.map(async e=>{var t,a;const l=await j(s,e);return 200===l.status&&(null==(a=null==(t=l.data)?void 0:t.deletePostCategory)?void 0:a.success)}))).some(e=>e)&&(g("Successfully deleted categories.","success"),h(!0),x([]))}}}),e.jsx(ye,{categories:a,selectedIds:m,toggleCheckbox:e=>{x(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},toggleAllCheckboxes:()=>{m.length===a.length?x([]):x(a.map(e=>e.term_id))},setCategoryToEdit:u,setEditCategorySliderOpen:d})]}),e.jsx(je,{addCategorySliderOpen:i,setAddCategorySliderOpen:r,HandleClose:y,setReloadCategories:h}),e.jsx(be,{editCategorySliderOpen:o,setEditCategorySliderOpen:d,HandleClose:y,categoryToEdit:c,setCategoryToEdit:u,setReloadCategories:h})]})},Se=({setAddTagSliderOpen:t})=>e.jsx("div",{className:"title-panel",children:e.jsxs("div",{className:"title-bar",children:[e.jsx("div",{children:e.jsx("h2",{className:"text-3xl",children:"Tags"})}),e.jsxs("button",{type:"button",className:"text-white bg-blue-700 hover:bg-blue-800 btn",onClick:()=>t(!0),children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 mr-2 -ml-1",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M12 3.75a.75.75 0 0 1 .75.75v6.75h6.75a.75.75 0 0 1 0 1.5h-6.75v6.75a.75.75 0 0 1-1.5 0v-6.75H4.5a.75.75 0 0 1 0-1.5h6.75V4.5a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"})}),"Add New Tag"]})]})}),Ce=({addTagSliderOpen:s,setAddTagSliderOpen:a,HandleClose:l,setReloadTags:i})=>{const{loginPassword:r}=t.useContext(n),[o,d]=t.useState(""),[c,u]=t.useState(""),[m,x]=t.useState("");return t.useEffect(()=>{const e=o.toLowerCase().replace(/[^a-z0-9\s-]/g,"").trim().replace(/\s+/g,"-").replace(/-+/g,"-");u(e)},[o]),e.jsx(J.Root,{show:s,as:t.Fragment,children:e.jsxs(W,{as:"div",className:"slide-panel",onClose:l,children:[e.jsx("div",{className:"fixed inset-0"}),e.jsx("div",{className:"slide-panel-content-wrapper",children:e.jsx("div",{className:"slide-panel-content",children:e.jsx("div",{className:"slide-panel-content-inner",children:e.jsx(J.Child,{as:t.Fragment,enter:"transform transition ease-in-out duration-500 sm:duration-700",enterFrom:"translate-x-full",enterTo:"translate-x-0",leave:"transform transition ease-in-out duration-500 sm:duration-700",leaveFrom:"translate-x-0",leaveTo:"translate-x-full",children:e.jsx(W.Panel,{className:"slide-panel-dialog-panel",children:e.jsx("div",{className:"px-4 sm:px-6",children:e.jsx("div",{className:"relative mt-6 flex-1 px-4 sm:px-6",children:e.jsx("div",{className:"flex items-start justify-start",children:e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex items-start justify-between w-full pt-3",children:[e.jsx(W.Title,{className:"text-gray-900 text-base font-semibold leading-6",children:"Add Tag"}),e.jsx("div",{className:"ml-3 flex h-7 items-center",children:e.jsxs("button",{type:"button",className:"relative rounded-md text-gray-400 hover:text-gray-500",onClick:()=>{a(!1)},children:[e.jsx("span",{className:"absolute -inset-2.5"}),e.jsx("span",{className:"sr-only",children:"Close panel"}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"h-6 w-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})})]})})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{children:"Name"}),e.jsx("input",{type:"text",name:"name",placeholder:"Name",autoComplete:"Name",value:o,className:"input",required:!0,onChange:e=>{d(e.target.value)}})]}),e.jsxs("div",{className:"w-full mt-4",children:[e.jsx("label",{children:"Slug"}),e.jsx("input",{type:"text",name:"slug",placeholder:"Slug",autoComplete:"Slug",value:c,className:"input",required:!0,onChange:e=>{u(e.target.value)}})]}),e.jsxs("div",{className:"w-full mt-4",children:[e.jsx("label",{children:"Description"}),e.jsx("textarea",{value:m,onChange:e=>x(e.target.value),className:"w-full h-64 p-2 bg-gray-50  border border-gray-300 rounded font-mono text-sm",placeholder:"Enter description here..."})]}),e.jsx("div",{className:"flex flex-row justify-end",children:e.jsxs("button",{type:"button",className:"text-white bg-blue-700 hover:bg-blue-800 btn",onClick:async()=>{const e=await b(r,o,c,m);if(200==e.status&&1==e.data.createPostTag.success)return i(!0),a(!1),void g("Successfully created tag.","success");g("Failed to create tag.","error")},children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 mr-2",children:e.jsx("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25ZM12.75 9a.75.75 0 0 0-1.5 0v2.25H9a.75.75 0 0 0 0 1.5h2.25V15a.75.75 0 0 0 1.5 0v-2.25H15a.75.75 0 0 0 0-1.5h-2.25V9Z",clipRule:"evenodd"})}),"Add Tag"]})})]})})})})})})})})})]})})},ke=({editTagSliderOpen:s,setEditTagSliderOpen:a,HandleClose:l,tagToEdit:i,setTagToEdit:r,setReloadTags:o})=>{const{loginPassword:d}=t.useContext(n),[c,u]=t.useState(""),[m,x]=t.useState(""),[p,h]=t.useState("");return t.useEffect(()=>{i&&(u(null==i?void 0:i.name),x(null==i?void 0:i.slug),h(null==i?void 0:i.description))},[i]),t.useEffect(()=>{const e=c.toLowerCase().replace(/[^a-z0-9\s-]/g,"").trim().replace(/\s+/g,"-").replace(/-+/g,"-");x(e)},[c]),e.jsx(J.Root,{show:s,as:t.Fragment,children:e.jsxs(W,{as:"div",className:"slide-panel",onClose:l,children:[e.jsx("div",{className:"fixed inset-0"}),e.jsx("div",{className:"slide-panel-content-wrapper",children:e.jsx("div",{className:"slide-panel-content",children:e.jsx("div",{className:"slide-panel-content-inner",children:e.jsx(J.Child,{as:t.Fragment,enter:"transform transition ease-in-out duration-500 sm:duration-700",enterFrom:"translate-x-full",enterTo:"translate-x-0",leave:"transform transition ease-in-out duration-500 sm:duration-700",leaveFrom:"translate-x-0",leaveTo:"translate-x-full",children:e.jsx(W.Panel,{className:"slide-panel-dialog-panel",children:e.jsx("div",{className:"px-4 sm:px-6",children:e.jsx("div",{className:"relative mt-6 flex-1 px-4 sm:px-6",children:e.jsx("div",{className:"flex items-start justify-start",children:e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex items-start justify-between w-full pt-3",children:[e.jsx(W.Title,{className:"text-gray-900 text-base font-semibold leading-6",children:"Edit Tag"}),e.jsx("div",{className:"ml-3 flex h-7 items-center",children:e.jsxs("button",{type:"button",className:"relative rounded-md text-gray-400 hover:text-gray-500",onClick:()=>{a(!1)},children:[e.jsx("span",{className:"absolute -inset-2.5"}),e.jsx("span",{className:"sr-only",children:"Close panel"}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"h-6 w-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})})]})})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{children:"Name"}),e.jsx("input",{type:"text",name:"name",placeholder:"Name",autoComplete:"Name",value:c,className:"input",required:!0,onChange:e=>{u(e.target.value)}})]}),e.jsxs("div",{className:"w-full mt-4",children:[e.jsx("label",{children:"Slug"}),e.jsx("input",{type:"text",name:"slug",placeholder:"Slug",autoComplete:"Slug",value:m,className:"input",required:!0,onChange:e=>{x(e.target.value)}})]}),e.jsxs("div",{className:"w-full mt-4",children:[e.jsx("label",{children:"Description"}),e.jsx("textarea",{value:p,onChange:e=>h(e.target.value),className:"w-full h-64 p-2 bg-gray-50  border border-gray-300 rounded font-mono text-sm",placeholder:"Enter description here..."})]}),e.jsx("div",{className:"flex flex-row justify-end",children:e.jsxs("button",{type:"button",className:"text-white bg-blue-700 hover:bg-blue-800 btn",onClick:async()=>{const e=await y(d,c,m,p,i.term_id);if(200==e.status&&1==e.data.updatePostTag.success)return o(!0),a(!1),r(null),void g("Successfully updated tag.","success")},children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 mr-2",children:e.jsx("path",{fillRule:"evenodd",d:"M4.755 10.059a7.5 7.5 0 0 1 12.548-3.364l1.903 1.903h-3.183a.75.75 0 1 0 0 1.5h4.992a.75.75 0 0 0 .75-.75V4.356a.75.75 0 0 0-1.5 0v3.18l-1.9-1.9A9 9 0 0 0 3.306 9.67a.75.75 0 1 0 1.45.388Zm15.408 3.352a.75.75 0 0 0-.919.53 7.5 7.5 0 0 1-12.548 3.364l-1.902-1.903h3.183a.75.75 0 0 0 0-1.5H2.984a.75.75 0 0 0-.75.75v4.992a.75.75 0 0 0 1.5 0v-3.18l1.9 1.9a9 9 0 0 0 15.059-4.035.75.75 0 0 0-.53-.918Z",clipRule:"evenodd"})}),"Update"]})})]})})})})})})})})})]})})},Te=({tags:t,selectedIds:s,toggleCheckbox:a,allSelected:l,toggleAllCheckboxes:n,setTagToEdit:i,setEditTagSliderOpen:r})=>e.jsxs("table",{className:"w-full text-sm text-left rtl:text-right text-gray-500",children:[e.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-200  ",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3",children:e.jsx("input",{type:"checkbox",checked:l,onChange:n,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded-sm focus:ring-blue-500 focus:ring-2"})}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Name"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Description"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Slug"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Count"})]})}),e.jsx("tbody",{children:t.map((t,l)=>e.jsxs("tr",{className:"odd:bg-white even:bg-gray-50 border-b border-gray-200",children:[e.jsx("th",{scope:"row",className:"px-6 py-4 w-[40px] font-medium text-gray-900 whitespace-nowrap",children:e.jsx("input",{id:"default-checkbox",type:"checkbox",value:t.term_id,checked:s.includes(t.term_id),onChange:()=>a(t.term_id),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded-sm focus:ring-blue-500 focus:ring-2"})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("button",{type:"button",className:"text-blue-800 hover:text-blue-500",onClick:()=>{i(t),r(!0)},children:t.name})}),e.jsx("td",{className:"px-6 py-4",children:t.description}),e.jsx("td",{className:"px-6 py-4",children:t.slug}),e.jsx("td",{className:"px-6 py-4",children:t.post_count})]},l))})]}),Pe=({bulkAction:t,setBulkAction:s,handleApply:a})=>e.jsxs("div",{className:"flex flex-row items-center my-4",children:[e.jsxs("select",{id:"actionsDropdown",className:"bg-gray-100 border-gray-300 border px-4 py-2 divide-y divide-gray-100 rounded shadow w-44",value:t,onChange:e=>s(e.target.value),children:[e.jsx("option",{value:"",children:"Bulk Actions"}),e.jsx("option",{value:"delete",children:"Delete Permanently"})]}),e.jsxs("button",{type:"button",className:"ml-4 flex items-center justify-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-primary-300 focus:outline-none",onClick:a,children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 mr-2 -ml-1",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M19.916 4.626a.75.75 0 0 1 .208 1.04l-9 13.5a.75.75 0 0 1-1.154.114l-6-6a.75.75 0 0 1 1.06-1.06l5.353 5.353 8.493-12.74a.75.75 0 0 1 1.04-.207Z",clipRule:"evenodd"})}),"Apply"]})]}),Me=()=>{const{loginPassword:s}=t.useContext(n),[a,l]=t.useState([]),[i,r]=t.useState(!1),[o,d]=t.useState(!1),[c,u]=t.useState(null),[m,x]=t.useState([]),[p,h]=t.useState(!1),[v,f]=t.useState(""),j=()=>{},b=async()=>{const e=await w(s,"post_tag");200==e.status&&l(e.data.getTags.tags)};return t.useEffect(()=>{b()},[]),t.useEffect(()=>{p&&(h(!1),b())},[p]),e.jsxs("div",{className:"w-full",children:[e.jsx(Se,{setAddTagSliderOpen:r}),e.jsxs("div",{className:"panel mt-8 py-4 px-4",children:[e.jsx(Pe,{bulkAction:v,setBulkAction:f,handleApply:async()=>{if("delete"===v&&m.length>0){(await Promise.all(m.map(async e=>{var t,a;const l=await N(s,e);return 200===l.status&&(null==(a=null==(t=l.data)?void 0:t.deletePostTag)?void 0:a.success)}))).some(e=>e)&&(g("Successfully deleted tags.","success"),h(!0),x([]))}}}),e.jsx(Te,{tags:a,selectedIds:m,toggleCheckbox:e=>{x(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},toggleAllCheckboxes:()=>{m.length===a.length?x([]):x(a.map(e=>e.term_id))},setTagToEdit:u,setEditTagSliderOpen:d})]}),e.jsx(Ce,{addTagSliderOpen:i,setAddTagSliderOpen:r,HandleClose:j,setReloadTags:h}),e.jsx(ke,{editTagSliderOpen:o,setEditTagSliderOpen:d,HandleClose:j,tagToEdit:c,setTagToEdit:u,setReloadTags:h})]})},Ie=()=>e.jsx("div",{className:"title-panel",children:e.jsx("div",{className:"title-bar",children:e.jsx("div",{children:e.jsx("h2",{className:"text-3xl",children:"Add Post"})})})}),Ee=({tags:t,tagsSelectedIds:s,toggleTagCheckbox:a})=>e.jsxs("div",{className:"panel mt-8",children:[e.jsx("h3",{className:"font-bold text-lg",children:"Tags"}),e.jsx("hr",{className:"my-4"}),e.jsx("div",{className:"flex flex-col gap-2 items-start mt-4 rounded  border border-gray-300",children:e.jsx("ul",{className:"py-4",children:t.map((t,l)=>e.jsxs("li",{className:"ml-2 flex flex-row items-center gap-4",children:[e.jsx("input",{id:"default-checkbox",type:"checkbox",value:t.term_id,checked:s.includes(t.term_id),onChange:()=>a(t.term_id),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded-sm focus:ring-blue-500 focus:ring-2"}),e.jsx("p",{children:t.name})]},l))})})]}),Fe=({categories:t,categoriesSelectedIds:s,toggleCategoryCheckbox:a})=>e.jsxs("div",{className:"panel mt-8",children:[e.jsx("h3",{className:"font-bold text-lg",children:"Categories"}),e.jsx("hr",{className:"my-4"}),e.jsx("div",{className:"flex flex-col gap-2 items-start mt-4 rounded  border border-gray-300",children:e.jsx("ul",{className:"py-4",children:t.map((t,l)=>e.jsxs("li",{className:"ml-2 flex flex-row items-center gap-4",children:[e.jsx("input",{id:"default-checkbox",type:"checkbox",value:t.term_id,checked:s.includes(t.term_id),onChange:()=>a(t.term_id),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded-sm focus:ring-blue-500 focus:ring-2"}),e.jsx("p",{children:t.name})]},l))})})]}),_e=({submitDraft:s,submitPublish:a,submitScheduled:l,content:n,featuredImage:i,title:r,categories:o,publishDateEdit:d,setPublishDateEdit:c,publishDate:u,setPublishDate:m})=>{const[x,p]=t.useState();return e.jsxs("div",{className:"panel",children:[e.jsx("h3",{className:"font-bold text-lg",children:"Publish"}),e.jsx("hr",{className:"my-4"}),e.jsxs("div",{className:"flex flex-row justify-between items-center",children:[e.jsx("button",{type:"button",className:"secondary-btn",onClick:s,children:"Save Draft"}),e.jsx(G,{post:null,content:n,featuredImage:i,title:r,categories:o,type:"post"})]}),e.jsxs("div",{className:"flex flex-col gap-2 items-start mt-4",children:[e.jsxs("div",{className:"flex flex-row items-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 mr-2",children:e.jsx("path",{fillRule:"evenodd",d:"m11.54 22.351.07.04.028.016a.76.76 0 0 0 .723 0l.028-.015.071-.041a16.975 16.975 0 0 0 1.144-.742 19.58 19.58 0 0 0 2.683-2.282c1.944-1.99 3.963-4.98 3.963-8.827a8.25 8.25 0 0 0-16.5 0c0 3.846 2.02 6.837 3.963 8.827a19.58 19.58 0 0 0 2.682 2.282 16.975 16.975 0 0 0 1.145.742ZM12 13.5a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z",clipRule:"evenodd"})}),e.jsxs("p",{children:["Status: ",e.jsx("strong",{children:"Draft"})," "]})]}),e.jsxs("div",{className:"flex flex-row items-center",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 mr-2",children:[e.jsx("path",{d:"M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"}),e.jsx("path",{fillRule:"evenodd",d:"M1.323 11.447C2.811 6.976 7.028 3.75 12.001 3.75c4.97 0 9.185 3.223 10.675 7.69.12.362.12.752 0 1.113-1.487 4.471-5.705 7.697-10.677 7.697-4.97 0-9.186-3.223-10.675-7.69a1.762 1.762 0 0 1 0-1.113ZM17.25 12a5.25 5.25 0 1 1-10.5 0 5.25 5.25 0 0 1 10.5 0Z",clipRule:"evenodd"})]}),e.jsxs("p",{children:["Visibility: ",e.jsx("strong",{children:"Public"})," ",e.jsx("button",{className:"underline underline-offset-4 text-blue-800 hover:text-blue-600",children:"Edit"})]})]}),e.jsxs("div",{className:"flex flex-row justify-between mt-4",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 mr-2",children:[e.jsx("path",{d:"M12.75 12.75a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM7.5 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM8.25 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM9.75 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM10.5 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM12 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM12.75 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM14.25 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM15 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM16.5 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM15 12.75a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM16.5 13.5a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z"}),e.jsx("path",{fillRule:"evenodd",d:"M6.75 2.25A.75.75 0 0 1 7.5 3v1.5h9V3A.75.75 0 0 1 18 3v1.5h.75a3 3 0 0 1 3 3v11.25a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3V7.5a3 3 0 0 1 3-3H6V3a.75.75 0 0 1 .75-.75Zm13.5 9a1.5 1.5 0 0 0-1.5-1.5H5.25a1.5 1.5 0 0 0-1.5 1.5v7.5a1.5 1.5 0 0 0 1.5 1.5h13.5a1.5 1.5 0 0 0 1.5-1.5v-7.5Z",clipRule:"evenodd"})]}),e.jsxs("p",{children:["Schedule: ",u?(e=>{if(!e)return null;const t=new Date(e);if(isNaN(t))return null;const s=e=>String(e).padStart(2,"0");return`${s(t.getDate())}/${s(t.getMonth()+1)}/${t.getFullYear()} ${s(t.getHours())}:${s(t.getMinutes())}`})(u):e.jsx("strong",{children:"immediately"})," ",e.jsx("button",{className:"underline underline-offset-4 text-blue-800 hover:text-blue-600",onClick:()=>c(!0),children:"Edit"})]})]}),d&&e.jsxs("div",{className:"flex flex-row items-center gap-4",children:[e.jsx(S,{id:"release-date",date:x,updateFunction:p,showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15},`dp-${x}`),e.jsx("button",{type:"button",className:"secondary-btn",onClick:()=>{c(!1),m(x)},children:"Ok"}),e.jsx("button",{type:"button",className:"underline underline-offset-4 text-blue-800 hover:text-blue-600",onClick:()=>c(!1),children:"Cancel"})]})]}),e.jsx("div",{className:"flex flex-row justify-end",children:""==u?e.jsxs("button",{type:"button",className:"ml-4 flex items-center justify-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-primary-300 focus:outline-none",onClick:a,children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 mr-2",children:e.jsx("path",{fillRule:"evenodd",d:"M12 3.75a.75.75 0 0 1 .75.75v6.75h6.75a.75.75 0 0 1 0 1.5h-6.75v6.75a.75.75 0 0 1-1.5 0v-6.75H4.5a.75.75 0 0 1 0-1.5h6.75V4.5a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"})}),"Publish"]}):e.jsxs("button",{type:"button",className:"ml-4 flex items-center justify-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-primary-300 focus:outline-none",onClick:l,children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 mr-2",children:e.jsx("path",{fillRule:"evenodd",d:"M12 3.75a.75.75 0 0 1 .75.75v6.75h6.75a.75.75 0 0 1 0 1.5h-6.75v6.75a.75.75 0 0 1-1.5 0v-6.75H4.5a.75.75 0 0 1 0-1.5h6.75V4.5a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"})}),"Schedule"]})})]})},Re=({files:t,setFeaturedImageId:s,setSliderMediaOpen:a})=>e.jsx("div",{className:"flex flex-wrap gap-4",children:t.map((t,l)=>{var n,i,r;const o=(null==(r=null==(i=null==(n=null==t?void 0:t.attachment_metadata)?void 0:n.sizes)?void 0:i.find(e=>"thumbnail"===e.slug))?void 0:r.file)||(null==t?void 0:t.filename);return e.jsxs("button",{type:"button",className:"w-[150px] flex flex-col items-center gap-2 cursor-pointer",onClick:()=>{s(t.id),a(!1)},children:[e.jsx("img",{src:`http://localhost/uploads/${o}`,className:"w-[150px] h-[150px] object-cover",alt:(null==t?void 0:t.post_title)||(null==t?void 0:t.filename)}),e.jsx("span",{className:"w-full text-center break-words whitespace-normal text-sm overflow-hidden line-clamp-2",children:t.filename})]},l)})}),De=({search:t,setSearch:s})=>e.jsx("div",{className:"relative bg-white shadow-md sm:rounded-lg mt-4",children:e.jsx("div",{className:"flex flex-col items-center justify-between p-4 space-y-3 md:flex-row md:space-y-0 md:space-x-4",children:e.jsx("div",{className:"w-full md:w-1/2",children:e.jsxs("form",{className:"flex items-center",children:[e.jsx("label",{htmlFor:"simple-search",className:"sr-only",children:"Search"}),e.jsxs("div",{className:"relative w-full",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:e.jsx("svg",{"aria-hidden":"true",className:"w-5 h-5 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})}),e.jsx("input",{type:"text",id:"simple-search",className:"block w-full p-2 pl-10 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-primary-500 focus:border-primary-500",placeholder:"Search",required:"",value:t,onChange:e=>s(e.target.value)})]})]})})})}),Oe=({reloadMedia:s,setReloadMedia:a})=>{const{loginPassword:l}=t.useContext(n),i=t.useRef(),[r,o]=t.useState(!1),[d,c]=t.useState(null),u=e=>{c(e.target.files[0])};return e.jsxs("div",{className:"flex flex-row items-center p-4 mt-8 border-4 border-dashed rounded-md min-h-40 "+(r?"border-blue-500 bg-blue-50":"border-gray-300"),onDrop:e=>{if(e.preventDefault(),e.stopPropagation(),o(!1),e.dataTransfer.files&&e.dataTransfer.files.length>0){const t=e.dataTransfer.files;i.current.files=t,u({target:{files:t}})}},onDragOver:e=>{e.preventDefault(),e.stopPropagation(),o(!0)},onDragLeave:e=>{e.preventDefault(),e.stopPropagation(),o(!1)},children:[e.jsx("input",{type:"file",multiple:!0,ref:i,onChange:u}),e.jsx("button",{className:"ml-4 flex items-center justify-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-primary-300 focus:outline-none",type:"submit",onClick:async()=>{await(async()=>{if(!i.current.files.length)return;const e=i.current.files[0];if(e)try{const t=await C(l,e);200===t.status&&t.data.uploadFile&&(g("File uploaded","success"),a(!0),c(null),i.current.value="")}catch(t){await k(t.stack||String(t))}else g("Please select a file.","error")})()},children:"Upload"})]})},Ve=({totalFiles:t,page:s,perPage:a,setPage:l})=>e.jsxs("div",{className:"flex flex-rows justify-end items-center px-4 py-8",children:[e.jsxs("p",{className:"mr-4",children:[t," items"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{className:"px-3 py-2 font-medium rounded shadow "+(1==s?"bg-gray-50 text-gray-200 cursor-not-allowed":"text-gray-800 bg-gray-200 hover:bg-gray-300"),onClick:()=>{s>=2&&(async()=>{l(1)})()},children:"«"}),e.jsx("button",{className:"px-3 py-2 font-medium rounded shadow "+(1==s?"bg-gray-50 text-gray-200 cursor-not-allowed":"text-gray-800 bg-gray-200 hover:bg-gray-300"),onClick:()=>{s>=2&&(async()=>{l(s-1)})()},children:"‹"}),e.jsxs("p",{children:[s," of ",Math.ceil(t/a)]}),e.jsx("button",{className:"px-3 py-2 font-medium rounded shadow "+(s==Math.ceil(t/a)?"bg-gray-50 text-gray-200 cursor-not-allowed":"text-gray-800 bg-gray-200 hover:bg-gray-300"),onClick:()=>{s!==Math.ceil(t/a)&&(async()=>{l(s+1)})()},children:"›"}),e.jsx("button",{className:"px-3 py-2 font-medium rounded shadow "+(s==Math.ceil(t/a)?"bg-gray-50 text-gray-200 cursor-not-allowed":"text-gray-800 bg-gray-200 hover:bg-gray-300"),onClick:()=>{s!==Math.ceil(t/a)&&(async()=>{l(Math.ceil(t/a))})()},children:"»"})]})]}),Ae=({featuredImage:s,setFeaturedImageId:a,reloadMedia:l,setReloadMedia:i})=>{const{loginPassword:r}=t.useContext(n),[o,d]=t.useState(!1),[c,u]=t.useState([]),[m,x]=t.useState("all"),[p,h]=t.useState(""),[g,v]=t.useState(1),[f,j]=t.useState(1),[b,y]=t.useState(0),w=async()=>{const e=await T(r,20*(g-1),m,p);if(200==e.status){const t=[];y(e.data.getMediaFiles.total),e.data.getMediaFiles.files.map(e=>{const s=`http://localhost/uploads/${e.filename}`,a={id:e.id,filename:e.filename,mimetype:e.mimetype,url:s,author:e.author,date:e.date,attachment_metadata:JSON.parse(e.attachment_metadata)};t.push(a)}),u(t)}};return t.useEffect(()=>{w()},[g,m,p]),t.useEffect(()=>{1==l&&(i(!1),w())},[l]),t.useEffect(()=>{var e,t,a;if(null!=s){const l=(null==(a=null==(t=null==(e=null==s?void 0:s.attachment_metadata)?void 0:e.sizes)?void 0:t.find(e=>"thumbnail"===e.slug))?void 0:a.file)||(null==s?void 0:s.filename);j(l)}},[s]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"panel mt-8",children:[e.jsx("h3",{className:"font-bold text-lg",children:"Featured Image"}),e.jsx("hr",{className:"my-4"}),null!=s&&e.jsx("img",{src:`http://localhost/uploads/${f}`,className:"w-full h-auto object-cover",alt:(null==s?void 0:s.post_title)||(null==s?void 0:s.filename)}),e.jsx("div",{className:"flex flex-row justify-start",children:e.jsxs("button",{type:"button",className:"flex items-center justify-center  py-2 text-sm font-medium text-blue-700 hover:text-blue-800 ",onClick:()=>d(!0),children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 mr-2",children:e.jsx("path",{fillRule:"evenodd",d:"M12 3.75a.75.75 0 0 1 .75.75v6.75h6.75a.75.75 0 0 1 0 1.5h-6.75v6.75a.75.75 0 0 1-1.5 0v-6.75H4.5a.75.75 0 0 1 0-1.5h6.75V4.5a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"})}),"Set Featured Image"]})})]}),e.jsx(J.Root,{show:o,as:t.Fragment,children:e.jsxs(W,{as:"div",className:"slide-panel",onClose:()=>{},children:[e.jsx("div",{className:"fixed inset-0"}),e.jsx("div",{className:"slide-panel-content-wrapper",children:e.jsx("div",{className:"slide-panel-content",children:e.jsx("div",{className:"slide-panel-content-inner",children:e.jsx(J.Child,{as:t.Fragment,enter:"transform transition ease-in-out duration-500 sm:duration-700",enterFrom:"translate-x-full",enterTo:"translate-x-0",leave:"transform transition ease-in-out duration-500 sm:duration-700",leaveFrom:"translate-x-0",leaveTo:"translate-x-full",children:e.jsx(W.Panel,{className:"pointer-events-auto w-screen max-w-7xl",children:e.jsx("div",{className:"bg-gray-100 flex h-full flex-col overflow-y-scroll  py-6 shadow-2xl",children:e.jsx("div",{className:"px-4 sm:px-6",children:e.jsx("div",{className:"relative mt-6 flex-1 px-4 sm:px-6",children:e.jsx("div",{className:"flex items-start justify-start",children:e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex items-start justify-between w-full pt-3",children:[e.jsx(W.Title,{className:"text-gray-900 text-base font-semibold leading-6",children:"Media"}),e.jsx("div",{className:"ml-3 flex h-7 items-center",children:e.jsxs("button",{type:"button",className:"relative rounded-md text-gray-400 hover:text-gray-500",onClick:()=>{d(!1)},children:[e.jsx("span",{className:"absolute -inset-2.5"}),e.jsx("span",{className:"sr-only",children:"Close panel"}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"h-6 w-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})})]})})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(De,{search:p,setSearch:h}),e.jsx(Oe,{reloadMedia:l,setReloadMedia:i}),e.jsxs("div",{className:"panel mt-8",children:[e.jsx(Re,{files:c,setFeaturedImageId:a,setSliderMediaOpen:d}),e.jsx(Ve,{totalFiles:b,page:g,perPage:20,setPage:v})]})]})]})})})})})})})})})})]})})]})},Ze=({activeContentTab:t,setActiveContentTab:s,content:a,HandleContentEditorChange:l,HandleContentChange:n})=>e.jsxs("div",{className:"mt-4",children:[e.jsx("div",{className:"flex flex-row justify-end items-center",children:e.jsxs("div",{className:"flex justify-end border-b border-gray-200",children:[e.jsx("button",{className:"px-4 py-2 "+("visual"===t?"border-b-4 border-blue-500 text-blue-500":"text-gray-800 font-medium"),onClick:()=>s("visual"),children:"Visual"}),e.jsx("button",{className:"px-4 py-2 "+("text"===t?"border-b-4 border-blue-500 text-blue-500":"text-gray-800 font-medium"),onClick:()=>s("text"),children:"Text"})]})}),e.jsxs("div",{className:"mt-4",children:["visual"===t&&e.jsx(ee,{tinymceScriptSrc:"/tinymce/tinymce.min.js",license_key:"gpl",value:a,init:{height:500,menubar:!0,plugins:"advlist link image lists",toolbar:"undo redo | styles | bold italic backcolor |                     alignleft aligncenter alignright alignjustify |                     bullist numlist outdent indent | removeformat | help",branding:!1,script_url:"/tinymce/tinymce.min.js"},onEditorChange:l}),"text"===t&&e.jsx("textarea",{value:a,onChange:n,className:"w-full h-64 p-2 mt-4 border border-gray-300 rounded font-mono text-sm",placeholder:"Enter HTML content here..."})]})]}),Be=({title:t,updateTitle:s})=>e.jsxs("div",{className:"w-full",children:[e.jsxs("label",{children:["Title ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsx("input",{type:"text",name:"title",placeholder:"Title",autoComplete:"Title",value:t,className:"input",required:!0,onChange:e=>{s(e.target.value)}})]}),He=({post:s,groups:a,fieldValues:l,setFieldValues:n})=>{const[i,r]=t.useState([]),o=(e,t,s)=>{n(a=>({...a,[e]:{...a[e],[t]:s}}))};return t.useEffect(()=>{(async()=>{const e=a.map(e=>({groupId:e.id,fields:e.fields})),t={};e.forEach(({groupId:e,fields:s})=>{t[e]={},s.forEach(s=>{t[e][s.name]=s.defaultValue||""})}),r(e),n(t)})()},[a]),e.jsxs("div",{className:"",children:[e.jsx("p",{className:"text-lg font-semibold mb-4",children:"Custom Fields"}),i.map(({groupId:s,fields:a})=>e.jsx("div",{className:"mb-6",children:a.map((a,n)=>{var i,r,d,c,u,m,x,p,h,g;return e.jsxs(t.Fragment,{children:[("text"===a.type||"email"===a.type||"number"==a.type||"url"==a.type||"password"==a.type)&&e.jsx(te,{type:a.type,label:a.label,name:a.name,value:(null==(i=l[s])?void 0:i[a.name])||"",setValue:e=>o(s,a.name,e.target.value)}),"text_area"===a.type&&e.jsx(se,{type:a.type,label:a.label,name:a.name,value:(null==(r=l[s])?void 0:r[a.name])||"",setValue:e=>o(s,a.name,e.target.value)}),"range"===a.type&&e.jsx(ae,{type:a.type,label:a.label,name:a.name,value:(null==(d=l[s])?void 0:d[a.name])??Math.floor((a.rangeStart+a.rangeEnd)/2),setValue:e=>o(s,a.name,e.target.value),args:{rangeStart:a.rangeStart,rangeEnd:a.rangeEnd}}),"image"==a.type&&e.jsx(le,{type:a.type,label:a.label,name:a.name,value:(null==(c=l[s])?void 0:c[a.name])||"",setValue:e=>o(s,a.name,e.target.value)}),"file"==a.type&&e.jsx(ne,{type:a.type,label:a.label,name:a.name,value:(null==(u=l[s])?void 0:u[a.name])||"",setValue:e=>o(s,a.name,e.target.value)}),"wysiwyg"==a.type&&e.jsx(ie,{type:a.type,label:a.label,name:a.name,value:(null==(m=l[s])?void 0:m[a.name])||"",setValue:e=>o(s,a.name,e.target.value)}),"link"==a.type&&e.jsx(re,{type:a.type,label:a.label,name:a.name,value:(null==(x=l[s])?void 0:x[a.name])||"",setValue:e=>o(s,a.name,e.target.value),args:{postType:a.postType}}),"post"==a.type&&e.jsx(oe,{type:a.type,label:a.label,name:a.name,value:(null==(p=l[s])?void 0:p[a.name])||"",setValue:e=>o(s,a.name,e.target.value),args:{postType:a.postType}}),"page_link"==a.type&&e.jsx(de,{type:a.type,label:a.label,name:a.name,value:(null==(h=l[s])?void 0:h[a.name])||"",setValue:e=>o(s,a.name,e.target.value),args:{postType:a.postType}}),"relationship"==a.type&&e.jsx(ce,{type:a.type,label:a.label,name:a.name,value:(null==(g=l[s])?void 0:g[a.name])||"",setValue:e=>o(s,a.name,e.target.value),args:{postType:a.postType}})]},s+"_"+n)})},s))]})},$e=({post:s,seo:a,setSEO:l,setPostSocialImageId:i,setPostSocialImage:r,postSocialImage:o,postSocialImageId:d})=>{const{loginPassword:c}=t.useContext(n),[u,m]=t.useState(!1),[x,p]=t.useState(""),[h,g]=t.useState(""),[v,f]=t.useState(""),[j,b]=t.useState(""),[y,w]=t.useState(""),[N,S]=t.useState(""),C=[{name:"Title",value:"title"},{name:"Site Title",value:"siteTitle"},{name:"Seperator",value:"seperator"}],k=(e,t)=>{const s={title:x,description:h,ogTitle:v,ogDescription:j,ogUrl:y,ogSiteName:N};s[e]=t,l(s),"title"==e&&p(t),"description"==e&&g(t),"ogTitle"==e&&f(t),"ogDescription"==e&&b(t),"ogUrl"==e&&w(t),"ogSiteName"==e&&S(t)};return t.useEffect(()=>{(async()=>{const e=await P();let t=null;200==e.status&&(t=JSON.parse(e.data.getSiteSEOSettings)),p(t&&"string"==typeof t.postSEOTitle&&""!==t.postSEOTitle.trim()?t.postSEOTitle:""),g(t&&"string"==typeof t.postDescription&&""!==t.postDescription.trim()?t.postDescription:""),f(t&&"string"==typeof t.postSocialTitle&&""!==t.postSocialTitle.trim()?t.postSocialTitle:""),b(t&&"string"==typeof t.postSocialDescription&&""!==t.postSocialDescription.trim()?t.postSocialDescription:""),S(t&&"string"==typeof t.websiteName&&""!==t.websiteName.trim()?t.websiteName:""),i(t&&"number"==typeof t.postSocialImageId?t.postSocialImageId:null)})()},[]),e.jsxs("div",{className:"panel-no-pad mt-8",children:[e.jsxs("div",{className:"w-full bg-gray-200 p-4 flex flex-row items-center justify-between",children:[e.jsx("p",{children:"SEO"}),u?e.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 20 20","aria-hidden":"true",height:"200px",width:"200px",xmlns:"http://www.w3.org/2000/svg",className:"text-white hover:text-blue-500 cursor-pointer w-4 h-4",onClick:()=>m(!1),children:e.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})}):e.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 20 20","aria-hidden":"true",height:"200px",width:"200px",xmlns:"http://www.w3.org/2000/svg",className:"text-white hover:text-blue-500 cursor-pointer w-4 h-4",onClick:()=>m(!0),children:e.jsx("path",{fillRule:"evenodd",d:"M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z",clipRule:"evenodd"})})]}),u&&e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"w-full mb-4",children:[e.jsx("label",{children:"SEO Title"}),e.jsx(Y,{value:x,setValue:p,variables:C})]}),e.jsxs("div",{className:"w-full mb-4",children:[e.jsx("label",{className:"block",children:"Description"}),e.jsx(K,{value:h,setValue:g,variables:C})]}),e.jsx("div",{className:"w-full mb-4",children:e.jsx(Q,{socialImage:o,setSocialImage:r,setImageId:i})}),e.jsxs("div",{className:"w-full mb-4",children:[e.jsx("label",{children:"Social Title"}),e.jsx(Y,{value:v,setValue:f,variables:C})]}),e.jsxs("div",{className:"w-full mb-4",children:[e.jsx("label",{className:"block",children:"Social Description"}),e.jsx(K,{value:j,setValue:b,variables:C})]}),e.jsxs("div",{className:"w-full mb-4",children:[e.jsx("label",{children:"og:Url"}),e.jsx("input",{type:"text",name:"ogUrl",placeholder:"og:Url",autoComplete:"og:Url",value:y,className:"input",required:!0,onChange:e=>{k("ogUrl",e.target.value)}})]}),e.jsxs("div",{className:"w-full mb-4",children:[e.jsx("label",{children:"og:SiteName"}),e.jsx("input",{type:"text",name:"ogSiteName",placeholder:"og:SiteName",autoComplete:"og:SiteName",value:N,className:"input",required:!0,onChange:e=>{k("ogSiteName",e.target.value)}})]})]})]})},Le=()=>{const{loginPassword:s}=t.useContext(n),l=a(),[i,r]=t.useState([]),[o,d]=t.useState([]),[c,u]=t.useState(""),[m,x]=t.useState(""),[p,h]=t.useState(null),[v,j]=t.useState(null),[b,y]=t.useState("visual"),[w,N]=t.useState(""),[S,C]=t.useState([]),[k,T]=t.useState([]),[P,O]=t.useState(!1),[V,A]=t.useState([]),[Z,B]=t.useState({}),[H,$]=t.useState(!0),[L,U]=t.useState(!1),[q,z]=t.useState(null),[J,W]=t.useState(""),[G,Y]=t.useState(!1),[K,Q]=t.useState(""),[ee,te]=t.useState({title:"",description:"",ogTitle:"",ogDescription:"",ogUrl:"",ogSiteName:"",socialImageId:q});return t.useEffect(()=>{(async()=>{const e=await f(s,"category");200==e.status&&r(e.data.getCategories.categories);const t=await f(s,"post_tag");200==t.status&&d(t.data.getCategories.categories);const a=await M("post_type","is_equal","post",s);if(200==a.status){const e=JSON.parse(a.data.getCustomFieldGroupsWhereMatch);A(e)}})()},[]),t.useEffect(()=>{null!=q&&(async()=>{const e=await I(q);200==e.status&&W(e.data.getMediaFileById)})()},[q]),t.useEffect(()=>{null!=p&&(async()=>{const e=await I(p);200==e.status&&j(e.data.getMediaFileById)})()},[p]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"w-full flex flex-col md:flex-row",children:[e.jsxs("div",{className:"w-full md:w-3/4 md:mr-4",children:[e.jsx(Ie,{}),e.jsx("div",{className:"panel mt-8",children:e.jsx(Be,{title:c,updateTitle:e=>{if("string"!=typeof e)return"";u(e)}})}),e.jsxs("div",{className:"panel-no-pad mt-8",children:[e.jsxs("div",{className:"w-full bg-gray-200 p-4 flex flex-row items-center justify-between",children:[e.jsx("p",{children:"Content"}),e.jsx(X,{expanded:H,setValue:$})]}),H&&e.jsx("div",{className:"p-4",children:e.jsx(Ze,{activeContentTab:b,setActiveContentTab:y,content:w,HandleContentEditorChange:e=>{N(e)},HandleContentChange:e=>{const t=""===e.target.value.trim()?"":e.target.value;N(t)}})})]}),e.jsxs("div",{className:"relative overflow-x-auto shadow-md sm:rounded-lg bg-white w-full mt-8",children:[e.jsxs("div",{className:"w-full bg-gray-200 p-4 flex flex-row items-center justify-between",children:[e.jsx("p",{children:"Custom Fields"}),e.jsx(X,{expanded:L,setValue:U})]}),L&&e.jsx("div",{className:"p-4",children:e.jsx(He,{groups:V,fieldValues:Z,setFieldValues:B})})]}),e.jsx($e,{seo:ee,setSEO:te,setPostSocialImageId:z,setPostSocialImage:W,postSocialImage:J,postSocialImageId:q})]}),e.jsxs("div",{className:"w-full md:w-1/4 md:ml-4",children:[e.jsx(_e,{submitDraft:async()=>{if(""==c)return void g("Failed to create page, requires a title.","error");const e=await D(s,c,w,p,S,k,"post");if(200==e.status){g("Successfully created post.","success");const t=e.data.createDraftNewPost.post_id,a=Object.entries(Z).map(([e,t])=>({group_id:e,fields:t}));await F(a,t,s),ee.socialImageId=q;const n=JSON.stringify(ee);return await _(s,n,t),void l(`/admin/posts/edit/${t}`)}g("Failed to create post.","error")},submitPublish:async()=>{if(""==c)return void g("Failed to create page, requires a title.","error");const e=await R(s,c,w,p,S,k,"post");if(200==e.status){g("Successfully created post.","success");const t=e.data.createPublishNewPost.post_id,a=Object.entries(Z).map(([e,t])=>({group_id:e,fields:t}));await F(a,t,s),ee.socialImageId=q;const n=JSON.stringify(ee);return await _(s,n,t),void l(`/admin/posts/edit/${t}`)}g("Failed to create post.","error")},submitScheduled:async()=>{if(""==c)return void g("Failed to create page, requires a title.","error");const e=await E(s,c,w,p,S,k,"post",K);if(200==e.status){g("Successfully created post.","success");const t=e.data.createScheduledNewPost.post_id,a=Object.entries(Z).map(([e,t])=>({group_id:e,fields:t}));await F(a,t,s),ee.socialImageId=q;const n=JSON.stringify(ee);return await _(s,n,t),void l(`/admin/posts/edit/${t}`)}g("Failed to create post.","error")},content:w,featuredImage:v,title:c,categories:i,publishDateEdit:G,setPublishDateEdit:Y,publishDate:K,setPublishDate:Q}),e.jsx(Ae,{featuredImage:v,setFeaturedImageId:h,reloadMedia:P,setReloadMedia:O}),e.jsx(Fe,{categories:i,categoriesSelectedIds:S,toggleCategoryCheckbox:e=>{C(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])}}),e.jsx(Ee,{tags:o,tagsSelectedIds:k,toggleTagCheckbox:e=>{T(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])}})]})]})})},Ue=({post:t})=>{const s=window.location.origin;return e.jsx("div",{className:"title-panel",children:e.jsx("div",{className:"title-bar",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl",children:"Edit Post"}),"publish"==(null==t?void 0:t.post_status)&&e.jsxs("p",{children:[e.jsx("strong",{className:"text-gray-500",children:"Permalink:"})," ",e.jsxs("a",{href:`${s}${null==t?void 0:t.guid}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-700 hover:text-blue-500 underline underline-offset-4",children:[s,null==t?void 0:t.guid]})]})]})})})},qe=({title:t,updateTitle:s})=>e.jsxs("div",{className:"w-full",children:[e.jsxs("label",{children:["Title ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsx("input",{type:"text",name:"title",placeholder:"Title",autoComplete:"Title",value:t,className:"input",required:!0,onChange:e=>{s(e.target.value)}})]}),ze=({activeContentTab:t,setActiveContentTab:s,content:a,HandleContentEditorChange:l,HandleContentChange:n})=>e.jsxs("div",{className:"mt-4",children:[e.jsx("div",{className:"flex flex-row justify-end items-center",children:e.jsxs("div",{className:"flex justify-end border-b border-gray-200",children:[e.jsx("button",{className:"px-4 py-2 "+("visual"===t?"border-b-4 border-blue-500 text-blue-500":"text-gray-800 font-medium"),onClick:()=>s("visual"),children:"Visual"}),e.jsx("button",{className:"px-4 py-2 "+("text"===t?"border-b-4 border-blue-500 text-blue-500":"text-gray-800 font-medium"),onClick:()=>s("text"),children:"Text"})]})}),e.jsxs("div",{className:"mt-4",children:["visual"===t&&e.jsx(ee,{tinymceScriptSrc:"/tinymce/tinymce.min.js",license_key:"gpl",value:a,init:{height:500,menubar:!0,plugins:"advlist link image lists",toolbar:"undo redo | styles | bold italic backcolor |                     alignleft aligncenter alignright alignjustify |                     bullist numlist outdent indent | removeformat | help",branding:!1,script_url:"/tinymce/tinymce.min.js"},onEditorChange:l}),"text"===t&&e.jsx("textarea",{value:a,onChange:n,className:"w-full h-64 p-2 mt-4 border border-gray-300 rounded font-mono text-sm",placeholder:"Enter HTML content here..."})]})]}),Je=({updatePost:s,post:a,setReloadPost:l,content:i,featuredImage:r,title:o,categories:d,scheduleDate:c,setScheduleDate:u})=>{const{loginPassword:m}=t.useContext(n),[p,h]=t.useState(!1),[g,v]=t.useState("draft"),[f,j]=t.useState(!1),[b,y]=t.useState(!1),[w,N]=t.useState(""),[C,k]=t.useState(!1),[T,P]=t.useState(!1),[M,I]=t.useState(""),[E,F]=t.useState(),_=async(e=!0,t=null)=>{const s=await x(m,null==t?g:t,a.id);200==s.status&&s.data.updatePostStatus.success&&e&&(l(!0),h(!1))};return t.useEffect(()=>{a&&(v(a.post_status),N(a.post_date),null==a.post_password?"private"==a.post_status?P("private"):P("public"):P("password"))},[a]),e.jsxs("div",{className:"panel",children:[e.jsx("h3",{className:"font-bold text-lg",children:"Publish"}),e.jsx("hr",{className:"my-4"}),e.jsx("div",{className:"flex flex-row justify-end items-center",children:e.jsx(G,{post:a,content:i,featuredImage:r,title:o,categories:d,type:"post"})}),e.jsxs("div",{className:"flex flex-col gap-2 items-start mt-4",children:[e.jsxs("div",{className:"flex flex-row items-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 mr-2",children:e.jsx("path",{fillRule:"evenodd",d:"m11.54 22.351.07.04.028.016a.76.76 0 0 0 .723 0l.028-.015.071-.041a16.975 16.975 0 0 0 1.144-.742 19.58 19.58 0 0 0 2.683-2.282c1.944-1.99 3.963-4.98 3.963-8.827a8.25 8.25 0 0 0-16.5 0c0 3.846 2.02 6.837 3.963 8.827a19.58 19.58 0 0 0 2.682 2.282 16.975 16.975 0 0 0 1.145.742ZM12 13.5a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z",clipRule:"evenodd"})}),e.jsxs("p",{children:["Status: ",e.jsx("strong",{children:g.replace(/\b\w/g,e=>e.toUpperCase())})," ",0==p&&e.jsx("button",{className:"underline underline-offset-4 text-blue-800 hover:text-blue-600",onClick:()=>h(!0),children:"Edit"})]})]}),p&&e.jsxs("div",{className:"flex flex-row items-center gap-4",children:[e.jsxs("select",{name:"status",className:"bg-gray-100 border-gray-300 border px-4 py-2 divide-y divide-gray-100 rounded shadow w-44",value:g,onChange:e=>v(e.target.value),children:[e.jsx("option",{value:"scheduled",children:"Scheduled"}),e.jsx("option",{value:"publish",children:"Published"}),e.jsx("option",{value:"pending",children:"Pending Review"}),e.jsx("option",{value:"draft",children:"Draft"})]}),e.jsx("button",{type:"button",className:"secondary-btn",onClick:()=>{_()},children:"Ok"}),e.jsx("button",{type:"button",className:"underline underline-offset-4 text-blue-800 hover:text-blue-600",onClick:()=>h(!1),children:"Cancel"})]}),e.jsxs("div",{className:"flex flex-row items-center",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 mr-2",children:[e.jsx("path",{d:"M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"}),e.jsx("path",{fillRule:"evenodd",d:"M1.323 11.447C2.811 6.976 7.028 3.75 12.001 3.75c4.97 0 9.185 3.223 10.675 7.69.12.362.12.752 0 1.113-1.487 4.471-5.705 7.697-10.677 7.697-4.97 0-9.186-3.223-10.675-7.69a1.762 1.762 0 0 1 0-1.113ZM17.25 12a5.25 5.25 0 1 1-10.5 0 5.25 5.25 0 0 1 10.5 0Z",clipRule:"evenodd"})]}),e.jsxs("p",{children:["Visibility:"," ",e.jsx("strong",{children:null==(null==a?void 0:a.post_password)?e.jsx(e.Fragment,{children:"private"==(null==a?void 0:a.post_status)?"Private":"Public"}):"Password Protected"})," ",e.jsx("button",{className:"underline underline-offset-4 text-blue-800 hover:text-blue-600",onClick:()=>k(!0),children:"Edit"})]})]}),C&&e.jsxs("div",{className:"flex flex-row items-center gap-4",children:[e.jsxs("select",{name:"status",className:"bg-gray-100 border-gray-300 border px-4 py-2 divide-y divide-gray-100 rounded shadow w-44",value:T,onChange:e=>P(e.target.value),children:[e.jsx("option",{value:"public",children:"Public"}),e.jsx("option",{value:"private",children:"Private"}),e.jsx("option",{value:"password",children:"PasswordProtected"})]}),e.jsx("button",{type:"button",className:"secondary-btn",onClick:()=>{"public"==T||"private"==T?(async e=>{const t=await x(m,e,a.id);200==t.status&&t.data.updatePostStatus.success&&(l(!0),h(!1))})("public"==T?"publish":"private"):(async()=>{const e=await A(m,M,a.id);200==e.status&&e.data.updatePostPassword.success&&(l(!0),k(!1))})()},children:"Ok"}),e.jsx("button",{type:"button",className:"underline underline-offset-4 text-blue-800 hover:text-blue-600",onClick:()=>k(!1),children:"Cancel"})]}),"password"==T&&e.jsx("p",{children:e.jsx("input",{type:"password",className:"w-full bg-gray-100 border-gray-300 border px-4 py-2 divide-y divide-gray-100 rounded shadow w-44",placeholder:"Password",onChange:e=>{I(e.target.value)}})}),e.jsxs("div",{className:"flex flex-row items-center",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 mr-2",children:[e.jsx("path",{d:"M12.75 12.75a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM7.5 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM8.25 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM9.75 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM10.5 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM12 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM12.75 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM14.25 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM15 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM16.5 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM15 12.75a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM16.5 13.5a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z"}),e.jsx("path",{fillRule:"evenodd",d:"M6.75 2.25A.75.75 0 0 1 7.5 3v1.5h9V3A.75.75 0 0 1 18 3v1.5h.75a3 3 0 0 1 3 3v11.25a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3V7.5a3 3 0 0 1 3-3H6V3a.75.75 0 0 1 .75-.75Zm13.5 9a1.5 1.5 0 0 0-1.5-1.5H5.25a1.5 1.5 0 0 0-1.5 1.5v7.5a1.5 1.5 0 0 0 1.5 1.5h13.5a1.5 1.5 0 0 0 1.5-1.5v-7.5Z",clipRule:"evenodd"})]}),"publish"==(null==a?void 0:a.post_status)?e.jsxs("div",{children:["Published on:"," ",e.jsx("strong",{children:(null==a?void 0:a.post_date)?new Date(null==a?void 0:a.post_date).toDateString():"-"})," ",e.jsx("button",{className:"underline underline-offset-4 text-blue-800 hover:text-blue-600",onClick:()=>j(!0),children:"Edit"})]}):e.jsxs("p",{children:["Schedule:"," ",c?(e=>{if(!e)return null;const t=new Date(e);if(isNaN(t))return null;const s=e=>String(e).padStart(2,"0");return`${s(t.getDate())}/${s(t.getMonth()+1)}/${t.getFullYear()} ${s(t.getHours())}:${s(t.getMinutes())}`})(c):e.jsx(e.Fragment,{children:"scheduled"==g?e.jsx("strong",{children:"immediately"}):e.jsx("strong",{children:"date not set"})})," ",e.jsx("button",{className:"underline underline-offset-4 text-blue-800 hover:text-blue-600",onClick:()=>y(!0),children:"Edit"})]})]}),f&&e.jsxs("div",{className:"flex flex-row items-center gap-4",children:[e.jsx(O,{id:"release-date",date:w,updateFunction:e=>{const[t,s,a]=e.split("/").map(Number),l=new Date(a,s-1,t);l.setHours(12,0,0,0);const n=l.toISOString();N(n)}},`dp-${w}`),e.jsx("button",{type:"button",className:"secondary-btn",onClick:()=>{(async e=>{const t=await V(m,e,a.id);200==t.status&&t.data.updatePostPublishDate.success&&(l(!0),j(!1))})(w)},children:"Ok"}),e.jsx("button",{type:"button",className:"underline underline-offset-4 text-blue-800 hover:text-blue-600",onClick:()=>j(!1),children:"Cancel"})]}),b&&e.jsxs("div",{className:"flex flex-row items-center gap-4",children:[e.jsx(S,{id:"release-date",date:E,updateFunction:F,showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15},`dp-${E}`),e.jsx("button",{type:"button",className:"secondary-btn",onClick:async()=>{y(!1),u(E),v("scheduled"),_(!1,"scheduled"),await V(m,E,a.id)},children:"Ok"}),e.jsx("button",{type:"button",className:"underline underline-offset-4 text-blue-800 hover:text-blue-600",onClick:()=>y(!1),children:"Cancel"})]})]}),e.jsxs("div",{className:`flex flex-row justify-${"trash"==(null==a?void 0:a.post_status)?"end":"between"} mt-4`,children:["trash"!=(null==a?void 0:a.post_status)&&e.jsx("button",{type:"button",className:"text-red-800 underline underline-offset-4",onClick:()=>{(async()=>{const e=await x(m,"trash",a.id);200==e.status&&e.data.updatePostStatus.success&&l(!0)})()},children:"Move To Bin"}),e.jsxs("button",{type:"button",className:"ml-4 flex items-center justify-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-primary-300 focus:outline-none",onClick:()=>{s()},children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 mr-2",children:e.jsx("path",{fillRule:"evenodd",d:"M4.755 10.059a7.5 7.5 0 0 1 12.548-3.364l1.903 1.903h-3.183a.75.75 0 1 0 0 1.5h4.992a.75.75 0 0 0 .75-.75V4.356a.75.75 0 0 0-1.5 0v3.18l-1.9-1.9A9 9 0 0 0 3.306 9.67a.75.75 0 1 0 1.45.388Zm15.408 3.352a.75.75 0 0 0-.919.53 7.5 7.5 0 0 1-12.548 3.364l-1.902-1.903h3.183a.75.75 0 0 0 0-1.5H2.984a.75.75 0 0 0-.75.75v4.992a.75.75 0 0 0 1.5 0v-3.18l1.9 1.9a9 9 0 0 0 15.059-4.035.75.75 0 0 0-.53-.918Z",clipRule:"evenodd"})}),"Update"]})]})]})},We=({files:t,setFeaturedImageId:s,setSliderMediaOpen:a})=>e.jsx("div",{className:"flex flex-wrap gap-4",children:t.map((t,l)=>{const n=null==t?void 0:t.filename;return e.jsxs("button",{type:"button",className:"w-[150px] flex flex-col items-center gap-2 cursor-pointer",onClick:()=>{s(t.id),a(!1)},children:[e.jsx("img",{src:`http://localhost/uploads/${n}`,className:"w-[150px] h-[150px] object-cover",alt:(null==t?void 0:t.post_title)||(null==t?void 0:t.filename)}),e.jsx("span",{className:"w-full text-center break-words whitespace-normal text-sm overflow-hidden line-clamp-2",children:t.filename})]},l)})}),Ge=({search:t,setSearch:s})=>e.jsx("div",{className:"relative bg-white shadow-md sm:rounded-lg mt-4",children:e.jsx("div",{className:"flex flex-col items-center justify-between p-4 space-y-3 md:flex-row md:space-y-0 md:space-x-4",children:e.jsx("div",{className:"w-full md:w-1/2",children:e.jsxs("form",{className:"flex items-center",children:[e.jsx("label",{htmlFor:"simple-search",className:"sr-only",children:"Search"}),e.jsxs("div",{className:"relative w-full",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:e.jsx("svg",{"aria-hidden":"true",className:"w-5 h-5 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})}),e.jsx("input",{type:"text",id:"simple-search",className:"block w-full p-2 pl-10 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-primary-500 focus:border-primary-500",placeholder:"Search",required:"",value:t,onChange:e=>s(e.target.value)})]})]})})})}),Ye=({totalFiles:t,page:s,perPage:a,setPage:l})=>e.jsxs("div",{className:"flex flex-rows justify-end items-center px-4 py-8",children:[e.jsxs("p",{className:"mr-4",children:[t," items"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{className:"px-3 py-2 font-medium rounded shadow "+(1==s?"bg-gray-50 text-gray-200 cursor-not-allowed":"text-gray-800 bg-gray-200 hover:bg-gray-300"),onClick:()=>{s>=2&&(async()=>{l(1)})()},children:"«"}),e.jsx("button",{className:"px-3 py-2 font-medium rounded shadow "+(1==s?"bg-gray-50 text-gray-200 cursor-not-allowed":"text-gray-800 bg-gray-200 hover:bg-gray-300"),onClick:()=>{s>=2&&(async()=>{l(s-1)})()},children:"‹"}),e.jsxs("p",{children:[s," of ",Math.ceil(t/a)]}),e.jsx("button",{className:"px-3 py-2 font-medium rounded shadow "+(s==Math.ceil(t/a)?"bg-gray-50 text-gray-200 cursor-not-allowed":"text-gray-800 bg-gray-200 hover:bg-gray-300"),onClick:()=>{s!==Math.ceil(t/a)&&(async()=>{l(s+1)})()},children:"›"}),e.jsx("button",{className:"px-3 py-2 font-medium rounded shadow "+(s==Math.ceil(t/a)?"bg-gray-50 text-gray-200 cursor-not-allowed":"text-gray-800 bg-gray-200 hover:bg-gray-300"),onClick:()=>{s!==Math.ceil(t/a)&&(async()=>{l(Math.ceil(t/a))})()},children:"»"})]})]}),Ke=({reloadMedia:s,setReloadMedia:a})=>{const{loginPassword:l}=t.useContext(n),i=t.useRef(),[r,o]=t.useState(!1),[d,c]=t.useState(null),u=e=>{c(e.target.files[0])};return e.jsxs("div",{className:"flex flex-row items-center p-4 mt-8 border-4 border-dashed rounded-md min-h-40 "+(r?"border-blue-500 bg-blue-50":"border-gray-300"),onDrop:e=>{if(e.preventDefault(),e.stopPropagation(),o(!1),e.dataTransfer.files&&e.dataTransfer.files.length>0){const t=e.dataTransfer.files;i.current.files=t,u({target:{files:t}})}},onDragOver:e=>{e.preventDefault(),e.stopPropagation(),o(!0)},onDragLeave:e=>{e.preventDefault(),e.stopPropagation(),o(!1)},children:[e.jsx("input",{type:"file",multiple:!0,ref:i,onChange:u}),e.jsx("button",{className:"ml-4 flex items-center justify-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-primary-300 focus:outline-none",type:"submit",onClick:async()=>{await(async()=>{if(!i.current.files.length)return;const e=i.current.files[0];if(e)try{const t=await C(l,e);200===t.status&&t.data.uploadFile&&(g("File uploaded","success"),a(!0),c(null),i.current.value="")}catch(t){await k(t.stack||String(t))}else g("Please select a file.","error")})()},children:"Upload"})]})},Qe=({featuredImage:s,setFeaturedImageId:a,reloadMedia:l,setReloadMedia:i})=>{const{loginPassword:r}=t.useContext(n),[o,d]=t.useState(!1),[c,u]=t.useState(!1),[m,x]=t.useState([]),[p,h]=t.useState("all"),[g,v]=t.useState(""),[f,j]=t.useState(1),[b,y]=t.useState(1),[w,N]=t.useState(0),S=async()=>{const e=await T(r,20*(f-1),p,g);if(200==e.status){const t=[];N(e.data.getMediaFiles.total),e.data.getMediaFiles.files.map(e=>{const s=`http://localhost/uploads/${e.filename}`,a={id:e.id,filename:e.filename,mimetype:e.mimetype,url:s,author:e.author,date:e.date,attachment_metadata:JSON.parse(e.attachment_metadata)};t.push(a)}),x(t)}};t.useEffect(()=>{S()},[f,p,g]),t.useEffect(()=>{1==l&&(i(!1),S())},[l]),t.useEffect(()=>{if(null!=s){const e=null==s?void 0:s.filename;y(e)}},[s]);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"panel mt-8",children:[e.jsx("h3",{className:"font-bold text-lg",children:"Featured Image"}),e.jsx("hr",{className:"my-4"}),null==s||o?e.jsx("div",{className:"text-gray-300 w-full flex justify-center items-center",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-[50%]",children:e.jsx("path",{fillRule:"evenodd",d:"M1.5 6a2.25 2.25 0 0 1 2.25-2.25h16.5A2.25 2.25 0 0 1 22.5 6v12a2.25 2.25 0 0 1-2.25 2.25H3.75A2.25 2.25 0 0 1 1.5 18V6ZM3 16.06V18c0 .414.336.75.75.75h16.5A.75.75 0 0 0 21 18v-1.94l-2.69-2.689a1.5 1.5 0 0 0-2.12 0l-.88.879.97.97a.75.75 0 1 1-1.06 1.06l-5.16-5.159a1.5 1.5 0 0 0-2.12 0L3 16.061Zm10.125-7.81a1.125 1.125 0 1 1 2.25 0 1.125 1.125 0 0 1-2.25 0Z",clipRule:"evenodd"})})}):e.jsx("img",{src:`http://localhost/uploads/${b}`,className:"w-full h-auto object-cover",alt:(null==s?void 0:s.post_title)||(null==s?void 0:s.filename),onError:()=>d(!0)}),e.jsx("div",{className:"flex flex-row justify-start",children:e.jsxs("button",{type:"button",className:"flex items-center justify-center  py-2 text-sm font-medium text-blue-700 hover:text-blue-800 ",onClick:()=>u(!0),children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 mr-2",children:e.jsx("path",{fillRule:"evenodd",d:"M12 3.75a.75.75 0 0 1 .75.75v6.75h6.75a.75.75 0 0 1 0 1.5h-6.75v6.75a.75.75 0 0 1-1.5 0v-6.75H4.5a.75.75 0 0 1 0-1.5h6.75V4.5a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"})}),"Set Featured Image"]})})]}),e.jsx(J.Root,{show:c,as:t.Fragment,children:e.jsxs(W,{as:"div",className:"slide-panel",onClose:()=>{},children:[e.jsx("div",{className:"fixed inset-0"}),e.jsx("div",{className:"slide-panel-content-wrapper",children:e.jsx("div",{className:"slide-panel-content",children:e.jsx("div",{className:"slide-panel-content-inner",children:e.jsx(J.Child,{as:t.Fragment,enter:"transform transition ease-in-out duration-500 sm:duration-700",enterFrom:"translate-x-full",enterTo:"translate-x-0",leave:"transform transition ease-in-out duration-500 sm:duration-700",leaveFrom:"translate-x-0",leaveTo:"translate-x-full",children:e.jsx(W.Panel,{className:"pointer-events-auto w-screen max-w-7xl",children:e.jsx("div",{className:"bg-gray-100 flex h-full flex-col overflow-y-scroll  py-6 shadow-2xl",children:e.jsx("div",{className:"px-4 sm:px-6",children:e.jsx("div",{className:"relative mt-6 flex-1 px-4 sm:px-6",children:e.jsx("div",{className:"flex items-start justify-start",children:e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex items-start justify-between w-full pt-3",children:[e.jsx(W.Title,{className:"text-gray-900 text-base font-semibold leading-6",children:"Media"}),e.jsx("div",{className:"ml-3 flex h-7 items-center",children:e.jsxs("button",{type:"button",className:"relative rounded-md text-gray-400 hover:text-gray-500",onClick:()=>{u(!1)},children:[e.jsx("span",{className:"absolute -inset-2.5"}),e.jsx("span",{className:"sr-only",children:"Close panel"}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"h-6 w-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})})]})})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(Ge,{search:g,setSearch:v}),e.jsx(Ke,{reloadMedia:l,setReloadMedia:i}),e.jsxs("div",{className:"panel mt-8",children:[e.jsx(We,{files:m,setFeaturedImageId:a,setSliderMediaOpen:u}),e.jsx(Ye,{totalFiles:w,page:f,perPage:20,setPage:j})]})]})]})})})})})})})})})})]})})]})},Xe=({categories:s,categoriesSelectedIds:a,toggleCategoryCheckbox:l,postId:i,setReloadPost:r})=>{const{loginPassword:o}=t.useContext(n);return e.jsxs("div",{className:"panel mt-8",children:[e.jsx("h3",{className:"font-bold text-lg",children:"Categories"}),e.jsx("hr",{className:"my-4"}),e.jsx("div",{className:"flex flex-col gap-2 items-start mt-4 rounded  border border-gray-300",children:e.jsx("ul",{className:"py-4",children:s.map((t,s)=>e.jsxs("li",{className:"ml-2 flex flex-row items-center gap-4",children:[e.jsx("input",{id:"default-checkbox",type:"checkbox",value:t.term_id,checked:a.includes(t.term_id),onChange:()=>l(t.term_id),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded-sm focus:ring-blue-500 focus:ring-2"}),e.jsx("p",{children:t.name})]},s))})}),e.jsx("div",{className:"flex flex-row justify-start",children:e.jsxs("button",{type:"button",className:"mt-4 secondary-btn",onClick:()=>(async()=>{const e=await Z(o,a,i);if(200==e.status&&1==e.data.updatePostCategories.success)return r(!0),void g("Successfully updated post categories","success");g("Failed to update post categories","error")})(),children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 mr-2",children:e.jsx("path",{fillRule:"evenodd",d:"M4.755 10.059a7.5 7.5 0 0 1 12.548-3.364l1.903 1.903h-3.183a.75.75 0 1 0 0 1.5h4.992a.75.75 0 0 0 .75-.75V4.356a.75.75 0 0 0-1.5 0v3.18l-1.9-1.9A9 9 0 0 0 3.306 9.67a.75.75 0 1 0 1.45.388Zm15.408 3.352a.75.75 0 0 0-.919.53 7.5 7.5 0 0 1-12.548 3.364l-1.902-1.903h3.183a.75.75 0 0 0 0-1.5H2.984a.75.75 0 0 0-.75.75v4.992a.75.75 0 0 0 1.5 0v-3.18l1.9 1.9a9 9 0 0 0 15.059-4.035.75.75 0 0 0-.53-.918Z",clipRule:"evenodd"})}),"Update Categories"]})})]})},et=({tags:s,tagsSelectedIds:a,toggleTagCheckbox:l,postId:i,setReloadPost:r})=>{const{loginPassword:o}=t.useContext(n);return e.jsxs("div",{className:"panel mt-8",children:[e.jsx("h3",{className:"font-bold text-lg",children:"Tags"}),e.jsx("hr",{className:"my-4"}),e.jsx("div",{className:"flex flex-col gap-2 items-start mt-4 rounded  border border-gray-300",children:e.jsx("ul",{className:"py-4",children:s.map((t,s)=>e.jsxs("li",{className:"ml-2 flex flex-row items-center gap-4",children:[e.jsx("input",{id:"default-checkbox",type:"checkbox",value:t.term_id,checked:a.includes(t.term_id),onChange:()=>l(t.term_id),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded-sm focus:ring-blue-500 focus:ring-2"}),e.jsx("p",{children:t.name})]},s))})}),e.jsx("div",{className:"flex flex-row justify-start",children:e.jsxs("button",{type:"button",className:"mt-4 secondary-btn ",onClick:()=>(async()=>{const e=await B(o,a,i);if(200==e.status&&1==e.data.updatePostTags.success)return r(!0),void g("Successfully updated post tags","success");g("Failed to update post tags","error")})(),children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 mr-2",children:e.jsx("path",{fillRule:"evenodd",d:"M4.755 10.059a7.5 7.5 0 0 1 12.548-3.364l1.903 1.903h-3.183a.75.75 0 1 0 0 1.5h4.992a.75.75 0 0 0 .75-.75V4.356a.75.75 0 0 0-1.5 0v3.18l-1.9-1.9A9 9 0 0 0 3.306 9.67a.75.75 0 1 0 1.45.388Zm15.408 3.352a.75.75 0 0 0-.919.53 7.5 7.5 0 0 1-12.548 3.364l-1.902-1.903h3.183a.75.75 0 0 0 0-1.5H2.984a.75.75 0 0 0-.75.75v4.992a.75.75 0 0 0 1.5 0v-3.18l1.9 1.9a9 9 0 0 0 15.059-4.035.75.75 0 0 0-.53-.918Z",clipRule:"evenodd"})}),"Update Tags"]})})]})},tt=({post:s,groups:a,fieldValues:l,setFieldValues:n})=>{const[i,r]=t.useState([]),o=(e,t,s)=>{n(a=>({...a,[e]:{...a[e],[t]:s}}))};return t.useEffect(()=>{(async()=>{const e=a.map(e=>({groupId:e.id,fields:e.fields}));r(e)})()},[a]),e.jsxs("div",{className:"",children:[e.jsx("p",{className:"text-lg font-semibold mb-4",children:"Custom Fields"}),i.map(({groupId:s,fields:a})=>e.jsx("div",{className:"mb-6",children:a.map((a,n)=>{var i,r,d,c,u,m,x,p,h,g;return e.jsxs(t.Fragment,{children:[("text"===a.type||"email"===a.type||"number"==a.type||"url"==a.type||"password"==a.type)&&e.jsx(te,{type:a.type,label:a.label,name:a.name,value:(null==(i=l[s])?void 0:i[a.name])||"",setValue:e=>o(s,a.name,e.target.value)}),"text_area"===a.type&&e.jsx(se,{type:a.type,label:a.label,name:a.name,value:(null==(r=l[s])?void 0:r[a.name])||"",setValue:e=>o(s,a.name,e.target.value)}),"range"===a.type&&e.jsx(ae,{type:a.type,label:a.label,name:a.name,value:(null==(d=l[s])?void 0:d[a.name])??Math.floor((a.rangeStart+a.rangeEnd)/2),setValue:e=>o(s,a.name,e.target.value),args:{rangeStart:a.rangeStart,rangeEnd:a.rangeEnd}}),"image"==a.type&&e.jsx(le,{type:a.type,label:a.label,name:a.name,value:(null==(c=l[s])?void 0:c[a.name])||"",setValue:e=>o(s,a.name,e.target.value)}),"file"==a.type&&e.jsx(ne,{type:a.type,label:a.label,name:a.name,value:(null==(u=l[s])?void 0:u[a.name])||"",setValue:e=>o(s,a.name,e.target.value)}),"wysiwyg"==a.type&&e.jsx(ie,{type:a.type,label:a.label,name:a.name,value:(null==(m=l[s])?void 0:m[a.name])||"",setValue:e=>o(s,a.name,e.target.value)}),"link"==a.type&&e.jsx(re,{type:a.type,label:a.label,name:a.name,value:(null==(x=l[s])?void 0:x[a.name])||"",setValue:e=>o(s,a.name,e.target.value),args:{postType:a.postType}}),"post"==a.type&&e.jsx(oe,{type:a.type,label:a.label,name:a.name,value:(null==(p=l[s])?void 0:p[a.name])||"",setValue:e=>o(s,a.name,e.target.value),args:{postType:a.postType}}),"page_link"==a.type&&e.jsx(de,{type:a.type,label:a.label,name:a.name,value:(null==(h=l[s])?void 0:h[a.name])||"",setValue:e=>o(s,a.name,e.target.value),args:{postType:a.postType}}),"relationship"==a.type&&e.jsx(ce,{type:a.type,label:a.label,name:a.name,value:(null==(g=l[s])?void 0:g[a.name])||"",setValue:e=>o(s,a.name,e.target.value),args:{postType:a.postType}})]},s+"_"+n)})},s))]})},st=({post:s})=>{const{loginPassword:a}=t.useContext(n),[l,i]=t.useState(!1),[r,o]=t.useState(null),[d,c]=t.useState(""),[u,m]=t.useState(""),[x,p]=t.useState(""),[h,v]=t.useState(""),[f,j]=t.useState(""),[b,y]=t.useState(""),[w,N]=t.useState(""),[S,C]=t.useState(null),k=[{name:"Title",value:"title"},{name:"Site Title",value:"siteTitle"},{name:"Seperator",value:"seperator"}];return t.useEffect(()=>{(null==s?void 0:s.id)&&(async()=>{const e=await P(),t=await H(s.id);let a=null,l=null;200==e.status&&(a=JSON.parse(e.data.getSiteSEOSettings)),200==t.status&&(t.data.getPostSEO?(l=JSON.parse(JSON.parse(t.data.getPostSEO)),o(l),c(l&&"string"==typeof l.title&&""!==l.title.trim()?l.title:a&&"string"==typeof a.postSEOTitle&&""!==a.postSEOTitle.trim()?a.postSEOTitle:""),m(l&&"string"==typeof l.description&&""!==l.description.trim()?l.description:a&&"string"==typeof a.postDescription&&""!==a.postDescription.trim()?a.postDescription:""),p(l&&"string"==typeof l.ogTitle&&""!==l.ogTitle.trim()?l.ogTitle:a&&"string"==typeof a.postSocialTitle&&""!==a.postSocialTitle.trim()?a.postSocialTitle:""),v(l&&"string"==typeof l.ogDescription&&""!==l.ogDescription.trim()?l.ogDescription:a&&"string"==typeof a.postSocialDescription&&""!==a.postSocialDescription.trim()?a.postSocialDescription:""),j(l.ogUrl?l.ogUrl:""),y(l&&"string"==typeof l.ogSiteName&&""!==l.ogSiteName.trim()?l.ogSiteName:a&&"string"==typeof a.websiteName&&""!==a.websiteName.trim()?a.websiteName:""),C(l&&Number.isInteger(l.socialImageId)?l.socialImageId:a&&Number.isInteger(a.postSocialImageId)?a.postSocialImageId:null)):(c(a&&"string"==typeof a.postSEOTitle&&""!==a.postSEOTitle.trim()?a.postSEOTitle:""),m(a&&"string"==typeof a.postDescription&&""!==a.postDescription.trim()?a.postDescription:""),p(a&&"string"==typeof a.postSocialTitle&&""!==a.postSocialTitle.trim()?a.postSocialTitle:""),v(a&&"string"==typeof a.postSocialDescription&&""!==a.postSocialDescription.trim()?a.postSocialDescription:""),y(a&&"string"==typeof a.websiteName&&""!==a.websiteName.trim()?a.websiteName:""),C(a&&"number"==typeof a.postSocialImageId?a.postSocialImageId:null)))})()},[s]),t.useEffect(()=>{null!=S&&(async()=>{const e=await I(S);200==e.status&&N(e.data.getMediaFileById)})()},[S]),e.jsxs("div",{className:"panel-no-pad mt-8",children:[e.jsxs("div",{className:"w-full bg-gray-200 p-4 flex flex-row items-center justify-between",children:[e.jsx("p",{children:"SEO"}),l?e.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 20 20","aria-hidden":"true",height:"200px",width:"200px",xmlns:"http://www.w3.org/2000/svg",className:"text-white hover:text-blue-500 cursor-pointer w-4 h-4",onClick:()=>i(!1),children:e.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})}):e.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 20 20","aria-hidden":"true",height:"200px",width:"200px",xmlns:"http://www.w3.org/2000/svg",className:"text-white hover:text-blue-500 cursor-pointer w-4 h-4",onClick:()=>i(!0),children:e.jsx("path",{fillRule:"evenodd",d:"M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z",clipRule:"evenodd"})})]}),l&&e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"w-full mb-4",children:[e.jsx("label",{children:"SEO Title"}),e.jsx(Y,{value:d,setValue:c,variables:k})]}),e.jsxs("div",{className:"w-full mb-4",children:[e.jsx("label",{className:"block",children:"Description"}),e.jsx(K,{value:u,setValue:m,variables:k})]}),e.jsx("div",{className:"w-full mb-4",children:e.jsx(Q,{socialImage:w,setSocialImage:N,setImageId:C})}),e.jsxs("div",{className:"w-full mb-4",children:[e.jsx("label",{children:"Social Title"}),e.jsx(Y,{value:x,setValue:p,variables:k})]}),e.jsxs("div",{className:"w-full mb-4",children:[e.jsx("label",{className:"block",children:"Social Description"}),e.jsx(K,{value:h,setValue:v,variables:k})]}),e.jsxs("div",{className:"w-full mb-4",children:[e.jsx("label",{children:"Social Url"}),e.jsx("input",{type:"text",name:"ogUrl",placeholder:"og:Url",autoComplete:"og:Url",value:f,className:"input",required:!0,onChange:e=>{j(e.target.value)}})]}),e.jsxs("div",{className:"w-full mb-4",children:[e.jsx("label",{children:"Social SiteName"}),e.jsx("input",{type:"text",name:"ogSiteName",placeholder:"og:SiteName",autoComplete:"og:SiteName",value:b,className:"input",required:!0,onChange:e=>{y(e.target.value)}})]}),e.jsxs("button",{type:"button",className:"text-white bg-blue-700 hover:bg-blue-800 btn",onClick:()=>{(async()=>{const e=JSON.stringify({title:d,description:u,ogTitle:x,ogDescription:h,ogUrl:f,ogSiteName:b,socialImageId:S}),t=await _(a,e,s.id);200==t.status&&t.data.updatePostSEO.success?g("Successfully updated SEO","success"):g("Failed to update SEO","error")})()},children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 mr-2",children:e.jsx("path",{fillRule:"evenodd",d:"M4.755 10.059a7.5 7.5 0 0 1 12.548-3.364l1.903 1.903h-3.183a.75.75 0 1 0 0 1.5h4.992a.75.75 0 0 0 .75-.75V4.356a.75.75 0 0 0-1.5 0v3.18l-1.9-1.9A9 9 0 0 0 3.306 9.67a.75.75 0 1 0 1.45.388Zm15.408 3.352a.75.75 0 0 0-.919.53 7.5 7.5 0 0 1-12.548 3.364l-1.902-1.903h3.183a.75.75 0 0 0 0-1.5H2.984a.75.75 0 0 0-.75.75v4.992a.75.75 0 0 0 1.5 0v-3.18l1.9 1.9a9 9 0 0 0 15.059-4.035.75.75 0 0 0-.53-.918Z",clipRule:"evenodd"})}),"Update"]})]})]})},at=({id:s,p:l})=>{const{loginPassword:i}=t.useContext(n);a();const[r,o]=t.useState(null),[d,c]=t.useState(!1),[u,m]=t.useState([]),[x,p]=t.useState([]),[h,v]=t.useState(""),[j,b]=t.useState(""),[y,w]=t.useState(null),[N,S]=t.useState(null),[C,k]=t.useState("visual"),[T,P]=t.useState(""),[E,_]=t.useState([]),[R,D]=t.useState([]),[O,A]=t.useState(!1),[Z,B]=t.useState([]),[H,J]=t.useState({}),[W,G]=t.useState(!0),[Y,K]=t.useState(!1),[Q,ee]=t.useState(),te=async()=>{d&&(l=await $("id",s)),(null==l?void 0:l.post_title)&&(o(l),v(l.post_title),P(l.post_content),w(l.featured_image_id),ee((null==l?void 0:l.post_date)?l.post_date:null));const e=await L(s),t=[];for(const s of e)t.push(s.term_id);_(t);const a=await U(s),n=[];for(const s of a)n.push(s.term_id);D(n);const r=await M("post_type","is_equal","post",i);if(200==r.status){const e=JSON.parse(r.data.getCustomFieldGroupsWhereMatch);B(e)}const c=await q(s,i);if(200==c.status){const e=JSON.parse(c.data.getPostCustomFieldData).reduce((e,t)=>(e[t.group_id]=t.fields,e),{});J(e)}};return t.useEffect(()=>{(async()=>{const e=await f(i,"category");200==e.status&&m(e.data.getCategories.categories);const t=await f(i,"post_tag");200==t.status&&p(t.data.getCategories.categories)})(),te()},[l]),t.useEffect(()=>{null!=y&&(async()=>{const e=await I(y);200==e.status&&S(e.data.getMediaFileById)})()},[y]),t.useEffect(()=>{1==d&&(te(),c(!1))},[d]),e.jsxs("div",{className:"w-full flex flex-col md:flex-row",children:[e.jsxs("div",{className:"w-full md:w-3/4 md:mr-4",children:[e.jsx(Ue,{post:r}),e.jsx("div",{className:"panel mt-8",children:e.jsx(qe,{title:h,updateTitle:e=>{if("string"!=typeof e)return"";v(e)}})}),e.jsxs("div",{className:"panel-no-pad mt-8",children:[e.jsxs("div",{className:"w-full bg-gray-200 p-4 flex flex-row items-center justify-between",children:[e.jsx("p",{children:"Content"}),e.jsx(X,{expanded:W,setValue:G})]}),W&&e.jsx("div",{className:"p-4",children:e.jsx(ze,{activeContentTab:C,setActiveContentTab:k,content:T,HandleContentEditorChange:e=>{P(e)},HandleContentChange:e=>{const t=""===e.target.value.trim()?"":e.target.value;P(t)}})})]}),e.jsxs("div",{className:"panel-no-pad mt-8",children:[e.jsxs("div",{className:"w-full bg-gray-200 p-4 flex flex-row items-center justify-between",children:[e.jsx("p",{children:"Custom Fields"}),e.jsx(X,{expanded:Y,setValue:K})]}),Y&&e.jsx("div",{className:"p-4",children:e.jsx(tt,{post:r,groups:Z,fieldValues:H,setFieldValues:J})})]}),e.jsx(st,{post:r})]}),e.jsxs("div",{className:"w-full md:w-1/4 md:ml-4",children:[e.jsx(Je,{updatePost:async()=>{if(200!=(await z(i,h,T,y,null==r?void 0:r.id)).status)return void g("Failed to update post.","error");Q&&"scheduled"==r.post_status&&await V(i,Q,r.id),g("Successfully updated post.","success"),c(!0);const e=Object.entries(H).map(([e,t])=>({group_id:e,fields:t}));await F(e,null==r?void 0:r.id,i)},post:r,setReloadPost:c,content:T,featuredImage:N,title:h,categories:u,scheduleDate:Q,setScheduleDate:ee}),e.jsx(Qe,{featuredImage:N,setFeaturedImageId:w,reloadMedia:O,setReloadMedia:A}),e.jsx(Xe,{categories:u,categoriesSelectedIds:E,toggleCategoryCheckbox:e=>{_(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},postId:null==r?void 0:r.id,setReloadPost:c}),e.jsx(et,{tags:x,tagsSelectedIds:R,toggleTagCheckbox:e=>{D(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},postId:null==r?void 0:r.id,setReloadPost:c})]})]})};export{ve as P,Ne as a,Me as b,Le as c,at as d};
