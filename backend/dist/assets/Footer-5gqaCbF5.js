import{j as e,r as i,U as f,ag as o,at as p}from"./index-jfVTkSr8.js";import{b as w,c as g}from"./index-DBMsOViK.js";const h=({item:s})=>{var t;return e.jsxs("li",{className:"relative group",children:[e.jsx("a",{href:s.url,className:"block px-4 py-2 hover:bg-gray-100",children:s.label||s.title}),((t=s.children)==null?void 0:t.length)>0&&e.jsx("ul",{className:`absolute left-${s.parentId=="menuZone"?0:5} top-full bg-white border hidden group-hover:block`,children:s.children.map(n=>e.jsx(h,{item:n},n.id))})]})},j=({menu:s})=>{const t=l=>{const r={},d=[];return l.forEach(a=>{r[a.id]={...a,children:[]}}),l.forEach(a=>{a.parentId==="menuZone"?d.push(r[a.id]):r[a.parentId]&&r[a.parentId].children.push(r[a.id])}),d};let n=[];return s!=null&&s.data&&(n=t(s.data)),e.jsx("nav",{className:"bg-white border-b",children:e.jsx("ul",{className:"flex space-x-4 p-4",children:n.map(l=>e.jsx(h,{item:l},l.id))})})},y=()=>{const{user:s,LogoutUser:t}=i.useContext(f),[n,l]=i.useState(!1),r=o(),{pathname:d}=o();r.pathname;const[a,x]=i.useState([]),[b,m]=i.useState(window.innerWidth),u=async()=>{const c=await p("Test");x({name:c.name,data:JSON.parse(c.menuData)})};return i.useEffect(()=>{const c=()=>{m(window.innerWidth)};window.addEventListener("resize",c),u()},[]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"z-[999] bg-dark-teal border-gray-200 mb-4 w-full hidden lg:block fixed top-0",children:e.jsx("div",{className:"w-full md:w-[calc(100%-12rem)] mx-auto mt-4",children:e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"flex items-center",children:e.jsx("a",{href:"/",children:e.jsx("img",{src:"/images/pw.svg",width:"100",height:"82",srcSet:"/images/pw.svg 1x, /images/pw.svg 2x",className:"max-w-[100px]",alt:"Logo Image",loading:"lazy"})})}),a&&e.jsx(j,{menu:a}),s&&e.jsxs("div",{className:"avatar text-white rounded-wrapper-white-25 flex flex-row items-center border border-1 border-gray-500/50 rounded-full",children:[e.jsx("span",{className:"link-special text-white flex items-center justify-center w-6 h-6 rounded-full bg-gray-500/50 mr-2",children:e.jsx(w,{})}),e.jsxs("span",{className:"avatar-name mr-h",children:[s.first_name," ",s.last_name]}),e.jsx("a",{href:"#",onClick:c=>{c.preventDefault(),t()},"aria-label":"Power Off",className:"cursor-pointer link-special text-dark-teal bg-white ml-2 w-6 h-6 flex items-center justify-center rounded-full",children:e.jsx(g,{})})]})]})})})})},k=()=>e.jsx("div",{className:"w-full md:w-[calc(100%-12rem)] mx-auto mt-4 text-white",children:e.jsx("a",{href:"https://www.accentdesign.co.uk/",className:"hover:text-light-teal hover:underline",children:"PhraseWorks"})});export{k as F,y as H};
