import{j as e,r as a,A as h,a1 as j,a2 as v,n as u}from"./index-jfVTkSr8.js";import{V as w,H as y,P as b,F as S}from"./PageContent-C8XW3_vI.js";import"./index-DBMsOViK.js";const N=()=>e.jsx("div",{className:"relative overflow-hidden bg-white shadow-md dark:bg-gray-800 sm:rounded-lg",children:e.jsx("div",{className:"flex-row items-center justify-between p-4 space-y-3 sm:flex sm:space-y-0 sm:space-x-4",children:e.jsx("div",{children:e.jsx("h2",{className:"text-3xl",children:"General Settings"})})})}),c=({name:t,title:s,value:r,updateFunction:l,text:i})=>e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"w-full md:w-1/2 ",children:[e.jsx("label",{children:s}),e.jsx("input",{type:"text",name:t,placeholder:s,autoComplete:s,value:r,className:"bg-gray-50 border border-gray-300 text-gray-900 rounded-lg focus:ring-blue-600 focus:border-blue-600 block w-full p-2.5",required:!0,onChange:d=>{l(d.target.value)}})]}),i?e.jsx("p",{className:"text-gray-500 text-sm mt-2",children:i}):""]}),A=()=>{const{loginPassword:t}=a.useContext(h),[s,r]=a.useState(""),[l,i]=a.useState(""),[d,m]=a.useState(""),[x,g]=a.useState(""),f=async()=>{const n=await v(t,s,d,x,l);n.status==200?n.data.updateGeneralSettings.success?(p(),u("Successfully updated settings.","success")):u("Failed to update settings.","error"):u("Failed to update settings.","error")},p=async()=>{const n=await j(t);if(n.status==200){const o=n.data.getGeneralSettings;r(o.site_title),i(o.site_tagline??""),m(o.site_address),g(o.admin_email)}};return a.useEffect(()=>{p()},[]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"w-full",children:[e.jsx(N,{}),e.jsxs("div",{className:"panel mt-8 mt-8",children:[e.jsx(c,{title:"Site Title",name:"site_title",value:s,updateFunction:r}),e.jsx(c,{title:"Site Tagline",name:"site_tagline",value:l,updateFunction:i}),e.jsx(c,{title:"Site Address",name:"site_address",value:d,updateFunction:m}),e.jsx(c,{title:"Administration Email Address",name:"admin_email",value:x,updateFunction:g,text:"This address is used for admin purposes. If you change this, an email will be sent to your new address to confirm it. The new address will not become active until confirmed."}),e.jsx("div",{className:"flex flex-row justify-end",children:e.jsxs("button",{type:"button",className:"flex items-center justify-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-primary-300 dark:bg-primary-600 dark:hover:bg-primary-700 focus:outline-none dark:focus:ring-primary-800",onClick:f,children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 mr-2",children:e.jsx("path",{fillRule:"evenodd",d:"M4.755 10.059a7.5 7.5 0 0 1 12.548-3.364l1.903 1.903h-3.183a.75.75 0 1 0 0 1.5h4.992a.75.75 0 0 0 .75-.75V4.356a.75.75 0 0 0-1.5 0v3.18l-1.9-1.9A9 9 0 0 0 3.306 9.67a.75.75 0 1 0 1.45.388Zm15.408 3.352a.75.75 0 0 0-.919.53 7.5 7.5 0 0 1-12.548 3.364l-1.902-1.903h3.183a.75.75 0 0 0 0-1.5H2.984a.75.75 0 0 0-.75.75v4.992a.75.75 0 0 0 1.5 0v-3.18l1.9 1.9a9 9 0 0 0 15.059-4.035.75.75 0 0 0-.53-.918Z",clipRule:"evenodd"})}),"Update"]})})]})]})})},_=({siteTitle:t})=>(document.title=`General Settings - ${t}`,e.jsxs(w,{children:[e.jsx(y,{}),e.jsx(b,{children:e.jsx(A,{})}),e.jsx(S,{})]}));export{_ as default};
