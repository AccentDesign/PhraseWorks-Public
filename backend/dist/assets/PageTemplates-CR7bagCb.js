import{j as e,r as a,A as w,N as L,n as v,O as Z,F as $,P as q}from"./index-jfVTkSr8.js";import{V as z,H as B,P as O,F as U}from"./PageContent-C8XW3_vI.js";import{z as y,L as f,F as T}from"./XMarkIcon-yQ5H14_d.js";import"./index-DBMsOViK.js";const D=({setAddSliderOpen:t})=>e.jsx("div",{className:"relative overflow-hidden bg-white shadow-md dark:bg-gray-800 sm:rounded-lg",children:e.jsxs("div",{className:"flex-row items-center justify-between p-4 space-y-3 sm:flex sm:space-y-0 sm:space-x-4",children:[e.jsx("div",{children:e.jsx("h2",{className:"text-3xl",children:"Page Templates"})}),e.jsxs("button",{type:"button",onClick:()=>t(!0),className:"flex items-center justify-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-primary-300 dark:bg-primary-600 dark:hover:bg-primary-700 focus:outline-none dark:focus:ring-primary-800",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 mr-2 -ml-1",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M12 3.75a.75.75 0 0 1 .75.75v6.75h6.75a.75.75 0 0 1 0 1.5h-6.75v6.75a.75.75 0 0 1-1.5 0v-6.75H4.5a.75.75 0 0 1 0-1.5h6.75V4.5a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"})}),"Add New Page Template"]})]})}),G=({pageTemplates:t,selectedIds:s,toggleCheckbox:n,allSelected:l,toggleAllCheckboxes:d,setTemplateToEdit:o,setEditSliderOpen:u})=>e.jsxs("table",{className:"w-full text-sm text-left rtl:text-right text-gray-500",children:[e.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-200  ",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3",children:e.jsx("input",{type:"checkbox",checked:l,onChange:d,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded-sm focus:ring-blue-500 focus:ring-2"})}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Name"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"FileName"})]})}),e.jsx("tbody",{children:t.map((r,c)=>e.jsxs("tr",{className:"odd:bg-white odd:dark:bg-gray-900 even:bg-gray-50 even:dark:bg-gray-800 border-b dark:border-gray-700 border-gray-200",children:[e.jsx("th",{scope:"row",className:"px-6 py-4 w-[40px] font-medium text-gray-900 whitespace-nowrap dark:text-white",children:e.jsx("input",{id:"default-checkbox",type:"checkbox",value:r.id,checked:s.includes(r.id),onChange:()=>n(r.id),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded-sm focus:ring-blue-500 focus:ring-2"})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("button",{type:"button",className:"text-blue-800 hover:text-blue-500",onClick:()=>{o(r),u(!0)},children:r.name})}),e.jsx("td",{className:"px-6 py-4",children:r.file_name})]},c))})]}),_=({totalPages:t,page:s,perPage:n,setPage:l})=>{const d=async()=>{l(1)},o=async()=>{l(s-1)},u=async()=>{l(s+1)},r=async()=>{l(Math.ceil(t/n))};return e.jsxs("div",{className:"flex flex-rows justify-end items-center px-4 py-8",children:[e.jsxs("p",{className:"mr-4",children:[t," items"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{className:`px-3 py-2 font-medium rounded shadow ${s==1?"bg-gray-50 text-gray-200 cursor-not-allowed":"text-gray-800 bg-gray-200 hover:bg-gray-300"}`,onClick:()=>{s>=2&&d()},children:"«"}),e.jsx("button",{className:`px-3 py-2 font-medium rounded shadow ${s==1?"bg-gray-50 text-gray-200 cursor-not-allowed":"text-gray-800 bg-gray-200 hover:bg-gray-300"}`,onClick:()=>{s>=2&&o()},children:"‹"}),e.jsxs("p",{children:[s," of ",Math.ceil(t/n)]}),e.jsx("button",{className:`px-3 py-2 font-medium rounded shadow ${s==Math.ceil(t/n)?"bg-gray-50 text-gray-200 cursor-not-allowed":"text-gray-800 bg-gray-200 hover:bg-gray-300"}`,onClick:()=>{s!==Math.ceil(t/n)&&u()},children:"›"}),e.jsx("button",{className:`px-3 py-2 font-medium rounded shadow ${s==Math.ceil(t/n)?"bg-gray-50 text-gray-200 cursor-not-allowed":"text-gray-800 bg-gray-200 hover:bg-gray-300"}`,onClick:()=>{s!==Math.ceil(t/n)&&r()},children:"»"})]})]})},J=({addSliderOpen:t,setAddSliderOpen:s,HandleClose:n,setReloadPageTemplates:l})=>{const{loginPassword:d}=a.useContext(w),[o,u]=a.useState(""),[r,c]=a.useState(""),x=async()=>{const i=await L(d,o,r);if(i.status==200&&i.data.createPostCategory.success==!0){l(!0),s(!1),v("Successfully created page template.","success");return}v("Failed to create page template.","error")};return e.jsx(y.Root,{show:t,as:a.Fragment,children:e.jsxs(f,{as:"div",className:"relative z-30",onClose:n,children:[e.jsx("div",{className:"fixed inset-0"}),e.jsx("div",{className:"fixed inset-0 overflow-hidden",children:e.jsx("div",{className:"absolute inset-0 overflow-hidden",children:e.jsx("div",{className:"pointer-events-none fixed inset-y-0 right-0 flex max-w-full pl-10 sm:pl-16",children:e.jsx(y.Child,{as:a.Fragment,enter:"transform transition ease-in-out duration-500 sm:duration-700",enterFrom:"translate-x-full",enterTo:"translate-x-0",leave:"transform transition ease-in-out duration-500 sm:duration-700",leaveFrom:"translate-x-0",leaveTo:"translate-x-full",children:e.jsx(f.Panel,{className:"pointer-events-auto w-screen max-w-7xl",children:e.jsx("div",{className:"bg-white flex h-full flex-col overflow-y-scroll  py-6 shadow-2xl",children:e.jsx("div",{className:"px-4 sm:px-6",children:e.jsx("div",{className:"relative mt-6 flex-1 px-4 sm:px-6",children:e.jsx("div",{className:"flex items-start justify-start",children:e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex items-start justify-between w-full pt-3",children:[e.jsx(f.Title,{className:"text-gray-900 text-base font-semibold leading-6",children:"Add Page Template"}),e.jsx("div",{className:"ml-3 flex h-7 items-center",children:e.jsxs("button",{type:"button",className:"bg-white relative rounded-md text-gray-400 hover:text-gray-500",onClick:()=>{s(!1)},children:[e.jsx("span",{className:"absolute -inset-2.5"}),e.jsx("span",{className:"sr-only",children:"Close panel"}),e.jsx(T,{className:"h-6 w-6","aria-hidden":"true"})]})})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{children:"Name"}),e.jsx("input",{type:"text",name:"name",placeholder:"Name",autoComplete:"Name",value:o,className:"bg-gray-50 border border-gray-300 text-gray-900 rounded-lg focus:ring-blue-600 focus:border-blue-600 block w-full p-2.5",required:!0,onChange:i=>{u(i.target.value)}})]}),e.jsxs("div",{className:"w-full mt-4",children:[e.jsx("label",{children:"Filename"}),e.jsx("input",{type:"text",name:"filename",placeholder:"Filename",autoComplete:"Filename",value:r,className:"bg-gray-50 border border-gray-300 text-gray-900 rounded-lg focus:ring-blue-600 focus:border-blue-600 block w-full p-2.5",required:!0,onChange:i=>{c(i.target.value)}})]}),e.jsx("div",{className:"flex flex-row justify-end mt-4",children:e.jsxs("button",{type:"button",className:"flex items-center justify-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-primary-300 dark:bg-primary-600 dark:hover:bg-primary-700 focus:outline-none dark:focus:ring-primary-800",onClick:x,children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 mr-2",children:e.jsx("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25ZM12.75 9a.75.75 0 0 0-1.5 0v2.25H9a.75.75 0 0 0 0 1.5h2.25V15a.75.75 0 0 0 1.5 0v-2.25H15a.75.75 0 0 0 0-1.5h-2.25V9Z",clipRule:"evenodd"})}),"Add Page Template"]})})]})})})})})})})})})})]})})},K=({editSliderOpen:t,setEditSliderOpen:s,HandleClose:n,templateToEdit:l,setTemplateToEdit:d,setReloadPageTemplates:o})=>{const{loginPassword:u}=a.useContext(w),[r,c]=a.useState(""),[x,i]=a.useState(""),p=async()=>{const h=await Z(u,r,x,l.id);if(h.status==200&&h.data.updatePageTemplate.success==!0){o(!0),s(!1),d(null),v("Successfully updated template.","success");return}};return a.useEffect(()=>{l&&(c(l==null?void 0:l.name),i(l==null?void 0:l.file_name))},[l]),e.jsx(y.Root,{show:t,as:a.Fragment,children:e.jsxs(f,{as:"div",className:"relative z-30",onClose:n,children:[e.jsx("div",{className:"fixed inset-0"}),e.jsx("div",{className:"fixed inset-0 overflow-hidden",children:e.jsx("div",{className:"absolute inset-0 overflow-hidden",children:e.jsx("div",{className:"pointer-events-none fixed inset-y-0 right-0 flex max-w-full pl-10 sm:pl-16",children:e.jsx(y.Child,{as:a.Fragment,enter:"transform transition ease-in-out duration-500 sm:duration-700",enterFrom:"translate-x-full",enterTo:"translate-x-0",leave:"transform transition ease-in-out duration-500 sm:duration-700",leaveFrom:"translate-x-0",leaveTo:"translate-x-full",children:e.jsx(f.Panel,{className:"pointer-events-auto w-screen max-w-7xl",children:e.jsx("div",{className:"bg-white flex h-full flex-col overflow-y-scroll  py-6 shadow-2xl",children:e.jsx("div",{className:"px-4 sm:px-6",children:e.jsx("div",{className:"relative mt-6 flex-1 px-4 sm:px-6",children:e.jsx("div",{className:"flex items-start justify-start",children:e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex items-start justify-between w-full pt-3",children:[e.jsx(f.Title,{className:"text-gray-900 text-base font-semibold leading-6",children:"Edit Template"}),e.jsx("div",{className:"ml-3 flex h-7 items-center",children:e.jsxs("button",{type:"button",className:"bg-white relative rounded-md text-gray-400 hover:text-gray-500",onClick:()=>{s(!1)},children:[e.jsx("span",{className:"absolute -inset-2.5"}),e.jsx("span",{className:"sr-only",children:"Close panel"}),e.jsx(T,{className:"h-6 w-6","aria-hidden":"true"})]})})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{children:"Name"}),e.jsx("input",{type:"text",name:"name",placeholder:"Name",autoComplete:"Name",value:r,className:"bg-gray-50 border border-gray-300 text-gray-900 rounded-lg focus:ring-blue-600 focus:border-blue-600 block w-full p-2.5",required:!0,onChange:h=>{c(h.target.value)}})]}),e.jsxs("div",{className:"w-full mt-4",children:[e.jsx("label",{children:"Filename"}),e.jsx("input",{type:"text",name:"fileName",placeholder:"FileName",autoComplete:"FileName",value:x,className:"bg-gray-50 border border-gray-300 text-gray-900 rounded-lg focus:ring-blue-600 focus:border-blue-600 block w-full p-2.5",required:!0,onChange:h=>{i(h.target.value)}})]}),e.jsx("div",{className:"flex flex-row justify-end mt-4",children:e.jsxs("button",{type:"button",className:"flex items-center justify-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-primary-300 dark:bg-primary-600 dark:hover:bg-primary-700 focus:outline-none dark:focus:ring-primary-800",onClick:p,children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 mr-2",children:e.jsx("path",{fillRule:"evenodd",d:"M4.755 10.059a7.5 7.5 0 0 1 12.548-3.364l1.903 1.903h-3.183a.75.75 0 1 0 0 1.5h4.992a.75.75 0 0 0 .75-.75V4.356a.75.75 0 0 0-1.5 0v3.18l-1.9-1.9A9 9 0 0 0 3.306 9.67a.75.75 0 1 0 1.45.388Zm15.408 3.352a.75.75 0 0 0-.919.53 7.5 7.5 0 0 1-12.548 3.364l-1.902-1.903h3.183a.75.75 0 0 0 0-1.5H2.984a.75.75 0 0 0-.75.75v4.992a.75.75 0 0 0 1.5 0v-3.18l1.9 1.9a9 9 0 0 0 15.059-4.035.75.75 0 0 0-.53-.918Z",clipRule:"evenodd"})}),"Update"]})})]})})})})})})})})})})]})})},Q=()=>{const{loginPassword:t}=a.useContext(w),[s,n]=a.useState([]),[l,d]=a.useState([]),[o,u]=a.useState(0),[r,c]=a.useState(!1),[x,i]=a.useState(1),[p,h]=a.useState(20),[b,j]=a.useState([]),[S,N]=a.useState(!1),[A,C]=a.useState(!1),[R,P]=a.useState(null),k=()=>{},M=m=>{j(g=>g.includes(m)?g.filter(V=>V!==m):[...g,m])},H=()=>{b.length===s.length?j([]):j(s.map(m=>m.id))},I=s.length>0&&b.length===s.length,F=async()=>{const m=await $(t,x,p);m.status==200&&(n(m.data.getPageTemplates.templates),u(m.data.getPageTemplates.total));const g=await q(t);g.status==200&&d(g.data.getPageTemplatesAll.templates)};return a.useEffect(()=>{F()},[x]),a.useEffect(()=>{r&&(c(!1),F())},[r]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"w-full",children:[e.jsx(D,{setAddSliderOpen:N}),e.jsxs("div",{className:"relative overflow-x-auto shadow-md sm:rounded-lg w-full mt-8",children:[e.jsx(G,{pageTemplates:s,selectedIds:b,toggleCheckbox:M,allSelected:I,toggleAllCheckboxes:H,setTemplateToEdit:P,setEditSliderOpen:C}),e.jsx(_,{totalPages:o,page:x,perPage:p,setPage:i})]})]}),e.jsx(J,{addSliderOpen:S,setAddSliderOpen:N,HandleClose:k,setReloadPageTemplates:c}),e.jsx(K,{editSliderOpen:A,setEditSliderOpen:C,HandleClose:k,templateToEdit:R,setTemplateToEdit:P,setReloadPageTemplates:c})]})},ee=({siteTitle:t})=>(document.title=`Page Templates - ${t}`,e.jsxs(z,{children:[e.jsx(B,{}),e.jsx(O,{children:e.jsx(Q,{})}),e.jsx(U,{})]}));export{ee as default};
